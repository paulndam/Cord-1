{"ast":null,"code":"import _regeneratorRuntime from\"/Users/paulndam/Documents/MERN/React-Course/Crash-Course/build-discord/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/paulndam/Documents/MERN/React-Course/Crash-Course/build-discord/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{Button,LightMode,Modal,ModalBody,ModalContent,ModalFooter,ModalHeader,ModalOverlay,Text}from\"@chakra-ui/react\";import{banMember,kickMember}from\"api/handler/guilds\";import React from\"react\";import{useQueryClient}from\"react-query\";import{useParams}from\"react-router-dom\";import{mKey}from\"utils/querykeys\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function ModActionModal(_ref){var member=_ref.member,isOpen=_ref.isOpen,onClose=_ref.onClose,isBan=_ref.isBan;var cache=useQueryClient();var _useParams=useParams(),guildId=_useParams.guildId;var action=isBan?\"Ban \":\"Kick \";function handleBanMember(){return _handleBanMember.apply(this,arguments);}function _handleBanMember(){_handleBanMember=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _ref2,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:onClose();if(!isBan){_context.next=7;break;}_context.next=4;return banMember(guildId,member.id);case 4:_context.t0=_context.sent;_context.next=10;break;case 7:_context.next=9;return kickMember(guildId,member.id);case 9:_context.t0=_context.sent;case 10:_ref2=_context.t0;data=_ref2.data;if(data){cache.invalidateQueries(mKey(guildId));}case 13:case\"end\":return _context.stop();}}},_callee);}));return _handleBanMember.apply(this,arguments);}return/*#__PURE__*/_jsxs(Modal,{isOpen:isOpen,onClose:onClose,isCentered:true,children:[/*#__PURE__*/_jsx(ModalOverlay,{}),/*#__PURE__*/_jsxs(ModalContent,{bg:\"brandGray.light\",children:[/*#__PURE__*/_jsxs(ModalHeader,{textTransform:\"uppercase\",fontWeight:\"bold\",fontSize:\"14px\",mb:0,pb:0,children:[action,\"'\",member.username,\"'\"]}),/*#__PURE__*/_jsx(ModalBody,{children:/*#__PURE__*/_jsxs(Text,{mb:\"4\",children:[\"Are you sure you want to \",action.toLocaleLowerCase(),\" @\",member.username,\"?\",!isBan&&\" They will be able to rejoin again with a new invite.\"]})}),/*#__PURE__*/_jsxs(ModalFooter,{bg:\"brandGray.dark\",children:[/*#__PURE__*/_jsx(Button,{onClick:onClose,mr:6,variant:\"link\",fontSize:\"14px\",children:\"Cancel\"}),/*#__PURE__*/_jsx(LightMode,{children:/*#__PURE__*/_jsx(Button,{colorScheme:\"red\",fontSize:\"14px\",onClick:handleBanMember,children:action})})]})]})]});}","map":{"version":3,"sources":["/Users/paulndam/Documents/MERN/React-Course/Crash-Course/build-discord/client/src/components/modals/ModActionModal.js"],"names":["Button","LightMode","Modal","ModalBody","ModalContent","ModalFooter","ModalHeader","ModalOverlay","Text","banMember","kickMember","React","useQueryClient","useParams","mKey","ModActionModal","member","isOpen","onClose","isBan","cache","guildId","action","handleBanMember","id","data","invalidateQueries","username","toLocaleLowerCase"],"mappings":"qYAAA,OACEA,MADF,CAEEC,SAFF,CAGEC,KAHF,CAIEC,SAJF,CAKEC,YALF,CAMEC,WANF,CAOEC,WAPF,CAQEC,YARF,CASEC,IATF,KAUO,kBAVP,CAWA,OAASC,SAAT,CAAoBC,UAApB,KAAsC,oBAAtC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,cAAT,KAA+B,aAA/B,CACA,OAASC,SAAT,KAA0B,kBAA1B,CACA,OAASC,IAAT,KAAqB,iBAArB,C,wFAEA,cAAe,SAASC,CAAAA,cAAT,MAA4D,IAAlCC,CAAAA,MAAkC,MAAlCA,MAAkC,CAA1BC,MAA0B,MAA1BA,MAA0B,CAAlBC,OAAkB,MAAlBA,OAAkB,CAATC,KAAS,MAATA,KAAS,CACzE,GAAMC,CAAAA,KAAK,CAAGR,cAAc,EAA5B,CADyE,eAErDC,SAAS,EAF4C,CAEjEQ,OAFiE,YAEjEA,OAFiE,CAGzE,GAAMC,CAAAA,MAAM,CAAGH,KAAK,CAAG,MAAH,CAAY,OAAhC,CAHyE,QAK1DI,CAAAA,eAL0D,uJAKzE,kJACEL,OAAO,GADT,IAEmBC,KAFnB,+CAGYV,CAAAA,SAAS,CAACY,OAAD,CAAUL,MAAM,CAACQ,EAAjB,CAHrB,sFAIYd,CAAAA,UAAU,CAACW,OAAD,CAAUL,MAAM,CAACQ,EAAjB,CAJtB,4DAEUC,IAFV,OAEUA,IAFV,CAKE,GAAIA,IAAJ,CAAU,CACRL,KAAK,CAACM,iBAAN,CAAwBZ,IAAI,CAACO,OAAD,CAA5B,EACD,CAPH,uDALyE,kDAezE,mBACE,MAAC,KAAD,EAAO,MAAM,CAAEJ,MAAf,CAAuB,OAAO,CAAEC,OAAhC,CAAyC,UAAU,KAAnD,wBACE,KAAC,YAAD,IADF,cAGE,MAAC,YAAD,EAAc,EAAE,CAAC,iBAAjB,wBACE,MAAC,WAAD,EACE,aAAa,CAAE,WADjB,CAEE,UAAU,CAAC,MAFb,CAGE,QAAQ,CAAE,MAHZ,CAIE,EAAE,CAAE,CAJN,CAKE,EAAE,CAAE,CALN,WAOGI,MAPH,KAOYN,MAAM,CAACW,QAPnB,OADF,cAUE,KAAC,SAAD,wBACE,MAAC,IAAD,EAAM,EAAE,CAAE,GAAV,uCAC4BL,MAAM,CAACM,iBAAP,EAD5B,MAEGZ,MAAM,CAACW,QAFV,KAGG,CAACR,KAAD,EAAU,uDAHb,GADF,EAVF,cAkBE,MAAC,WAAD,EAAa,EAAE,CAAC,gBAAhB,wBACE,KAAC,MAAD,EAAQ,OAAO,CAAED,OAAjB,CAA0B,EAAE,CAAE,CAA9B,CAAiC,OAAO,CAAC,MAAzC,CAAgD,QAAQ,CAAE,MAA1D,oBADF,cAIE,KAAC,SAAD,wBACE,KAAC,MAAD,EACE,WAAW,CAAC,KADd,CAEE,QAAQ,CAAE,MAFZ,CAGE,OAAO,CAAEK,eAHX,UAKGD,MALH,EADF,EAJF,GAlBF,GAHF,GADF,CAuCD","sourcesContent":["import {\n  Button,\n  LightMode,\n  Modal,\n  ModalBody,\n  ModalContent,\n  ModalFooter,\n  ModalHeader,\n  ModalOverlay,\n  Text,\n} from \"@chakra-ui/react\";\nimport { banMember, kickMember } from \"api/handler/guilds\";\nimport React from \"react\";\nimport { useQueryClient } from \"react-query\";\nimport { useParams } from \"react-router-dom\";\nimport { mKey } from \"utils/querykeys\";\n\nexport default function ModActionModal({ member, isOpen, onClose, isBan }) {\n  const cache = useQueryClient();\n  const { guildId } = useParams();\n  const action = isBan ? \"Ban \" : \"Kick \";\n\n  async function handleBanMember() {\n    onClose();\n    const { data } = isBan\n      ? await banMember(guildId, member.id)\n      : await kickMember(guildId, member.id);\n    if (data) {\n      cache.invalidateQueries(mKey(guildId));\n    }\n  }\n\n  return (\n    <Modal isOpen={isOpen} onClose={onClose} isCentered>\n      <ModalOverlay />\n\n      <ModalContent bg=\"brandGray.light\">\n        <ModalHeader\n          textTransform={\"uppercase\"}\n          fontWeight=\"bold\"\n          fontSize={\"14px\"}\n          mb={0}\n          pb={0}\n        >\n          {action}'{member.username}'\n        </ModalHeader>\n        <ModalBody>\n          <Text mb={\"4\"}>\n            Are you sure you want to {action.toLocaleLowerCase()} @\n            {member.username}?\n            {!isBan && \" They will be able to rejoin again with a new invite.\"}\n          </Text>\n        </ModalBody>\n\n        <ModalFooter bg=\"brandGray.dark\">\n          <Button onClick={onClose} mr={6} variant=\"link\" fontSize={\"14px\"}>\n            Cancel\n          </Button>\n          <LightMode>\n            <Button\n              colorScheme=\"red\"\n              fontSize={\"14px\"}\n              onClick={handleBanMember}\n            >\n              {action}\n            </Button>\n          </LightMode>\n        </ModalFooter>\n      </ModalContent>\n    </Modal>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}