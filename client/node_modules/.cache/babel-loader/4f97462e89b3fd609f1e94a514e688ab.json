{"ast":null,"code":"var _jsxFileName = \"/Users/paulndam/Documents/MERN/React-Course/Crash-Course/build-discord/client/src/components/modals/AddFriendModal.js\",\n    _s = $RefreshSig$();\n\nimport { Button, Input, InputGroup, InputLeftAddon, InputRightElement, Modal, ModalBody, ModalCloseButton, ModalContent, ModalFooter, ModalHeader, ModalOverlay, Text, useClipboard } from \"@chakra-ui/react\";\nimport { sendFriendRequest } from \"api/handler/account\";\nimport { Form, Formik } from \"formik\";\nimport React from \"react\";\nimport { useQueryClient } from \"react-query\";\nimport userStore from \"stores/userStore\";\nimport { rKey } from \"utils/querykeys\";\nimport toErrorMap from \"utils/toErrorMap\";\nimport InputField from \"components/shared/InputField\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function AddFriendModal({\n  isOpen,\n  onClose\n}) {\n  _s();\n\n  const current = userStore(state => state.current);\n  const cache = useQueryClient();\n  const {\n    hasCopied,\n    onCopy\n  } = useClipboard((current === null || current === void 0 ? void 0 : current.id) || \"\");\n\n  async function handleAddFriend(values, {\n    setErrors\n  }) {\n    if (values.id === \"\" && values.id.length !== 20) {\n      setErrors({\n        id: \"Enter valid ID \"\n      });\n    } else {\n      try {\n        const {\n          data\n        } = await sendFriendRequest(values.id);\n\n        if (data) {\n          onClose();\n          cache.invalidateQueries(rKey);\n        }\n      } catch (error) {\n        setErrors(toErrorMap(error));\n      }\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    isOpen: isOpen,\n    onClose: onClose,\n    isCentered: true,\n    children: [/*#__PURE__*/_jsxDEV(ModalOverlay, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ModalContent, {\n      bg: \"brandGray.light\",\n      children: /*#__PURE__*/_jsxDEV(Formik, {\n        initialValues: {\n          id: \"\"\n        },\n        onSubmit: handleAddFriend,\n        children: ({\n          isSubmitting\n        }) => /*#__PURE__*/_jsxDEV(Form, {\n          children: [/*#__PURE__*/_jsxDEV(ModalHeader, {\n            fontWeight: \"bold\",\n            pb: \"0\",\n            children: \"ADD FRIEND\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(ModalCloseButton, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(ModalBody, {\n            children: [/*#__PURE__*/_jsxDEV(Text, {\n              mb: \"4\",\n              children: \"You can add a friend with their UID.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(InputGroup, {\n              mb: 2,\n              children: [/*#__PURE__*/_jsxDEV(InputLeftAddon, {\n                bg: \"#202225\",\n                borderColor: \"black\",\n                children: \"UID\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 61,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Input, {\n                bg: \"brandGray.dark\",\n                borderColor: hasCopied ? \"brandGreen\" : \"black\",\n                borderRadius: \"3px\",\n                focusBorderColor: \"highlight.standard\",\n                value: (current === null || current === void 0 ? void 0 : current.id) || \"\",\n                isReadOnly: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(InputRightElement, {\n                width: \"4.5rem\",\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  h: \"1.75rem\",\n                  size: \"sm\",\n                  bg: hasCopied ? \"brandGreen\" : \"highlight.standard\",\n                  color: \"white\",\n                  _hover: {\n                    bg: \"highlight.hover\"\n                  },\n                  _active: {\n                    bg: \"highlight.active\"\n                  },\n                  _focus: {\n                    boxShadow: \"none\"\n                  },\n                  onClick: onCopy,\n                  children: hasCopied ? \"Copied\" : \"Copy\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 75,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(InputField, {\n              label: \"Enter a user ID\",\n              name: \"id\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(ModalFooter, {\n            bg: \"brandGray.dark\",\n            mt: \"2\",\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              mr: 6,\n              variant: \"link\",\n              onClick: onClose,\n              fontSize: \"14px\",\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              background: \"highlight.standard\",\n              color: \"white\",\n              type: \"submit\",\n              _hover: {\n                bg: \"highlight.hover\"\n              },\n              _active: {\n                bg: \"highlight.active\"\n              },\n              _focus: {\n                boxShadow: \"none\"\n              },\n              isLoading: isSubmitting,\n              fontSize: \"14px\",\n              children: \"Send Friend Request\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n}\n\n_s(AddFriendModal, \"cMM3IfmWFIXG1Ohv0lXEMxvnpTM=\", false, function () {\n  return [useQueryClient, useClipboard];\n});\n\n_c = AddFriendModal;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddFriendModal\");","map":{"version":3,"sources":["/Users/paulndam/Documents/MERN/React-Course/Crash-Course/build-discord/client/src/components/modals/AddFriendModal.js"],"names":["Button","Input","InputGroup","InputLeftAddon","InputRightElement","Modal","ModalBody","ModalCloseButton","ModalContent","ModalFooter","ModalHeader","ModalOverlay","Text","useClipboard","sendFriendRequest","Form","Formik","React","useQueryClient","userStore","rKey","toErrorMap","InputField","AddFriendModal","isOpen","onClose","current","state","cache","hasCopied","onCopy","id","handleAddFriend","values","setErrors","length","data","invalidateQueries","error","isSubmitting","bg","boxShadow"],"mappings":"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","sourcesContent":["import {\n  Button,\n  Input,\n  InputGroup,\n  InputLeftAddon,\n  InputRightElement,\n  Modal,\n  ModalBody,\n  ModalCloseButton,\n  ModalContent,\n  ModalFooter,\n  ModalHeader,\n  ModalOverlay,\n  Text,\n  useClipboard,\n} from \"@chakra-ui/react\";\nimport { sendFriendRequest } from \"api/handler/account\";\nimport { Form, Formik } from \"formik\";\nimport React from \"react\";\nimport { useQueryClient } from \"react-query\";\nimport userStore from \"stores/userStore\";\nimport { rKey } from \"utils/querykeys\";\nimport toErrorMap from \"utils/toErrorMap\";\nimport InputField from \"components/shared/InputField\";\n\nexport default function AddFriendModal({ isOpen, onClose }) {\n  const current = userStore((state) => state.current);\n  const cache = useQueryClient();\n  const { hasCopied, onCopy } = useClipboard(current?.id || \"\");\n\n  async function handleAddFriend(values, { setErrors }) {\n    if (values.id === \"\" && values.id.length !== 20) {\n      setErrors({ id: \"Enter valid ID \" });\n    } else {\n      try {\n        const { data } = await sendFriendRequest(values.id);\n        if (data) {\n          onClose();\n          cache.invalidateQueries(rKey);\n        }\n      } catch (error) {\n        setErrors(toErrorMap(error));\n      }\n    }\n  }\n\n  return (\n    <Modal isOpen={isOpen} onClose={onClose} isCentered>\n      <ModalOverlay />\n      <ModalContent bg=\"brandGray.light\">\n        <Formik initialValues={{ id: \"\" }} onSubmit={handleAddFriend}>\n          {({ isSubmitting }) => (\n            <Form>\n              <ModalHeader fontWeight=\"bold\" pb={\"0\"}>\n                ADD FRIEND\n              </ModalHeader>\n              <ModalCloseButton />\n              <ModalBody>\n                <Text mb=\"4\">You can add a friend with their UID.</Text>\n                <InputGroup mb={2}>\n                  <InputLeftAddon\n                    bg={\"#202225\"}\n                    borderColor={\"black\"}\n                    children=\"UID\"\n                  />\n                  <Input\n                    bg=\"brandGray.dark\"\n                    borderColor={hasCopied ? \"brandGreen\" : \"black\"}\n                    borderRadius=\"3px\"\n                    focusBorderColor=\"highlight.standard\"\n                    value={current?.id || \"\"}\n                    isReadOnly\n                  />\n                  <InputRightElement width=\"4.5rem\">\n                    <Button\n                      h=\"1.75rem\"\n                      size=\"sm\"\n                      bg={hasCopied ? \"brandGreen\" : \"highlight.standard\"}\n                      color=\"white\"\n                      _hover={{ bg: \"highlight.hover\" }}\n                      _active={{ bg: \"highlight.active\" }}\n                      _focus={{ boxShadow: \"none\" }}\n                      onClick={onCopy}\n                    >\n                      {hasCopied ? \"Copied\" : \"Copy\"}\n                    </Button>\n                  </InputRightElement>\n                </InputGroup>\n\n                <InputField label=\"Enter a user ID\" name=\"id\" />\n              </ModalBody>\n              <ModalFooter bg=\"brandGray.dark\" mt=\"2\">\n                <Button\n                  mr={6}\n                  variant=\"link\"\n                  onClick={onClose}\n                  fontSize={\"14px\"}\n                >\n                  Cancel\n                </Button>\n                <Button\n                  background=\"highlight.standard\"\n                  color=\"white\"\n                  type=\"submit\"\n                  _hover={{ bg: \"highlight.hover\" }}\n                  _active={{ bg: \"highlight.active\" }}\n                  _focus={{ boxShadow: \"none\" }}\n                  isLoading={isSubmitting}\n                  fontSize={\"14px\"}\n                >\n                  Send Friend Request\n                </Button>\n              </ModalFooter>\n            </Form>\n          )}\n        </Formik>\n      </ModalContent>\n    </Modal>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}