{"ast":null,"code":"var _jsxFileName = \"/Users/paulndam/Documents/MERN/React-Course/Crash-Course/build-discord/client/src/components/modals/EditMemberModal.js\",\n    _s = $RefreshSig$();\n\nimport { Button, Divider, Modal, ModalBody, ModalCloseButton, ModalContent, ModalFooter, ModalHeader, ModalOverlay, Text } from \"@chakra-ui/react\";\nimport { changeGuildMemberSettings, getGuildMemberSettings } from \"api/handler/guilds\";\nimport { Form, Formik } from \"formik\";\nimport React from \"react\";\nimport { TwitterPicker } from \"react-color\";\nimport { useQuery } from \"react-query\";\nimport userStore from \"stores/userStore\";\nimport toErrorMap from \"utils/toErrorMap\";\nimport { MemberSchema } from \"validation/member.schema\";\nimport InputField from \"components/shared/InputField\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function EditMemberModal({\n  guildId,\n  isOpen,\n  onClose\n}) {\n  _s();\n\n  const current = userStore(state => state.current);\n  const {\n    data\n  } = useQuery(`settings-${guildId}`, () => getGuildMemberSettings(guildId).then(res => res.data));\n\n  async function handleEditMemberAppearance(values, {\n    setErrors,\n    setFieldValue\n  }) {\n    try {\n      if (values.color === \"#fff\") {\n        setFieldValue(\"color\", null);\n      }\n\n      const {\n        data\n      } = await changeGuildMemberSettings(guildId, values);\n\n      if (data) {\n        onClose();\n      }\n    } catch (error) {\n      setErrors(toErrorMap(error));\n    }\n  }\n\n  if (!data) return null;\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    isOpen: isOpen,\n    onClose: onClose,\n    isCentered: true,\n    children: [/*#__PURE__*/_jsxDEV(ModalOverlay, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ModalContent, {\n      bg: \"brandGray.light\",\n      children: /*#__PURE__*/_jsxDEV(Formik, {\n        initialValues: {\n          color: data.color,\n          nickname: data.nickname\n        },\n        validationSchema: MemberSchema,\n        onSubmit: handleEditMemberAppearance,\n        children: ({\n          isSubmitting,\n          setFieldValue,\n          values\n        }) => {\n          var _values$color, _values$nickname;\n\n          return /*#__PURE__*/_jsxDEV(Form, {\n            children: [/*#__PURE__*/_jsxDEV(ModalHeader, {\n              fontWeight: \"bold\",\n              pb: 0,\n              children: \"Change Appearance\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(ModalCloseButton, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(ModalBody, {\n              children: [/*#__PURE__*/_jsxDEV(InputField, {\n                color: (_values$color = values.color) !== null && _values$color !== void 0 ? _values$color : undefined,\n                label: \"nickname\",\n                name: \"nickname\",\n                value: (_values$nickname = values.nickname) !== null && _values$nickname !== void 0 ? _values$nickname : current.username\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Text, {\n                mt: \"2\",\n                ml: \"1\",\n                color: \"brandGray.accent\",\n                _hover: {\n                  cursor: \"pointer\",\n                  color: \"highlight.standard\"\n                },\n                fontSize: \"14px\",\n                onClick: () => setFieldValue(\"nickname\", null),\n                children: \"Reset Nickname\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 76,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Divider, {\n                my: \"4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 90,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TwitterPicker, {\n                color: values.color || \"#fff\",\n                onChangeComplete: color => {\n                  if (color) setFieldValue(\"color\", color.hex);\n                },\n                className: \"picker\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Text, {\n                mt: \"2\",\n                ml: \"1\",\n                color: \"brandGray.accent\",\n                _hover: {\n                  cursor: \"pointer\",\n                  color: \"highlight.standard\"\n                },\n                fontSize: \"14px\",\n                onClick: () => setFieldValue(\"color\", \"#fff\"),\n                children: \"Reset Color\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 100,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(ModalFooter, {\n              bg: \"brandGray.dark\",\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                onClick: onClose,\n                mr: 6,\n                variant: \"link\",\n                fontSize: \"14px\",\n                children: \"Cancel\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 116,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                background: \"highlight.standard\",\n                color: \"white\",\n                type: \"submit\",\n                _hover: {\n                  bg: \"highlight.hover\"\n                },\n                _active: {\n                  bg: \"highlight.active\"\n                },\n                _focus: {\n                  boxShadow: \"none\"\n                },\n                isLoading: isSubmitting,\n                fontSize: \"14px\",\n                children: \"Save\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 124,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 13\n          }, this);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n}\n\n_s(EditMemberModal, \"JtionF1PqWN50DPWu724eJIU2SM=\", false, function () {\n  return [useQuery];\n});\n\n_c = EditMemberModal;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditMemberModal\");","map":{"version":3,"sources":["/Users/paulndam/Documents/MERN/React-Course/Crash-Course/build-discord/client/src/components/modals/EditMemberModal.js"],"names":["Button","Divider","Modal","ModalBody","ModalCloseButton","ModalContent","ModalFooter","ModalHeader","ModalOverlay","Text","changeGuildMemberSettings","getGuildMemberSettings","Form","Formik","React","TwitterPicker","useQuery","userStore","toErrorMap","MemberSchema","InputField","EditMemberModal","guildId","isOpen","onClose","current","state","data","then","res","handleEditMemberAppearance","values","setErrors","setFieldValue","color","error","nickname","isSubmitting","undefined","username","cursor","hex","bg","boxShadow"],"mappings":"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","sourcesContent":["import {\n  Button,\n  Divider,\n  Modal,\n  ModalBody,\n  ModalCloseButton,\n  ModalContent,\n  ModalFooter,\n  ModalHeader,\n  ModalOverlay,\n  Text,\n} from \"@chakra-ui/react\";\nimport {\n  changeGuildMemberSettings,\n  getGuildMemberSettings,\n} from \"api/handler/guilds\";\nimport { Form, Formik } from \"formik\";\nimport React from \"react\";\nimport { TwitterPicker } from \"react-color\";\nimport { useQuery } from \"react-query\";\nimport userStore from \"stores/userStore\";\nimport toErrorMap from \"utils/toErrorMap\";\nimport { MemberSchema } from \"validation/member.schema\";\nimport InputField from \"components/shared/InputField\";\n\nexport default function EditMemberModal({ guildId, isOpen, onClose }) {\n  const current = userStore((state) => state.current);\n  const { data } = useQuery(`settings-${guildId}`, () =>\n    getGuildMemberSettings(guildId).then((res) => res.data)\n  );\n\n  async function handleEditMemberAppearance(\n    values,\n    { setErrors, setFieldValue }\n  ) {\n    try {\n      if (values.color === \"#fff\") {\n        setFieldValue(\"color\", null);\n      }\n      const { data } = await changeGuildMemberSettings(guildId, values);\n      if (data) {\n        onClose();\n      }\n    } catch (error) {\n      setErrors(toErrorMap(error));\n    }\n  }\n\n  if (!data) return null;\n\n  return (\n    <Modal isOpen={isOpen} onClose={onClose} isCentered>\n      <ModalOverlay />\n      <ModalContent bg=\"brandGray.light\">\n        <Formik\n          initialValues={{\n            color: data.color,\n            nickname: data.nickname,\n          }}\n          validationSchema={MemberSchema}\n          onSubmit={handleEditMemberAppearance}\n        >\n          {({ isSubmitting, setFieldValue, values }) => (\n            <Form>\n              <ModalHeader fontWeight=\"bold\" pb={0}>\n                Change Appearance\n              </ModalHeader>\n              <ModalCloseButton />\n              <ModalBody>\n                <InputField\n                  color={values.color ?? undefined}\n                  label=\"nickname\"\n                  name=\"nickname\"\n                  value={values.nickname ?? current.username}\n                />\n                <Text\n                  mt={\"2\"}\n                  ml={\"1\"}\n                  color={\"brandGray.accent\"}\n                  _hover={{\n                    cursor: \"pointer\",\n                    color: \"highlight.standard\",\n                  }}\n                  fontSize={\"14px\"}\n                  onClick={() => setFieldValue(\"nickname\", null)}\n                >\n                  Reset Nickname\n                </Text>\n\n                <Divider my={\"4\"} />\n\n                <TwitterPicker\n                  color={values.color || \"#fff\"}\n                  onChangeComplete={(color) => {\n                    if (color) setFieldValue(\"color\", color.hex);\n                  }}\n                  className={\"picker\"}\n                />\n\n                <Text\n                  mt={\"2\"}\n                  ml={\"1\"}\n                  color={\"brandGray.accent\"}\n                  _hover={{\n                    cursor: \"pointer\",\n                    color: \"highlight.standard\",\n                  }}\n                  fontSize={\"14px\"}\n                  onClick={() => setFieldValue(\"color\", \"#fff\")}\n                >\n                  Reset Color\n                </Text>\n              </ModalBody>\n\n              <ModalFooter bg=\"brandGray.dark\">\n                <Button\n                  onClick={onClose}\n                  mr={6}\n                  variant=\"link\"\n                  fontSize={\"14px\"}\n                >\n                  Cancel\n                </Button>\n                <Button\n                  background=\"highlight.standard\"\n                  color=\"white\"\n                  type=\"submit\"\n                  _hover={{ bg: \"highlight.hover\" }}\n                  _active={{ bg: \"highlight.active\" }}\n                  _focus={{ boxShadow: \"none\" }}\n                  isLoading={isSubmitting}\n                  fontSize={\"14px\"}\n                >\n                  Save\n                </Button>\n              </ModalFooter>\n            </Form>\n          )}\n        </Formik>\n      </ModalContent>\n    </Modal>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}