{"ast":null,"code":"var _jsxFileName = \"/Users/paulndam/Documents/MERN/React-Course/Crash-Course/build-discord/client/src/components/menus/MemberContextMenu.js\",\n    _s = $RefreshSig$();\n\nimport { Flex, Text, useDisclosure } from \"@chakra-ui/react\";\nimport { sendFriendRequest } from \"api/handler/account\";\nimport { getOrCreateDirectMessage } from \"api/handler/dm\";\nimport ModActionModal from \"components/modals/ModActionModal\";\nimport RemoveFriendModal from \"components/modals/RemoveFriendModal\";\nimport React, { useState } from \"react\";\nimport { Item, Menu, theme } from \"react-contexify\";\nimport { useHistory } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function MemberContextMenu({\n  member,\n  isOwner,\n  id\n}) {\n  _s();\n\n  const history = useHistory();\n  const {\n    isOpen,\n    onOpen,\n    onClose\n  } = useDisclosure();\n  const {\n    isOpen: modIsOpen,\n    onOpen: modOnOpen,\n    onClose: modOnClose\n  } = useDisclosure();\n  const [isBan, setIsBan] = useState(false);\n\n  const getOrCreateDM = async () => {\n    const {\n      data\n    } = await getOrCreateDirectMessage(member.id);\n\n    if (data) {\n      history.push(`/channels/me/${data.id}`);\n    }\n  };\n\n  const handleFriendClick = async () => {\n    if (!member.isFriend) {\n      await sendFriendRequest(member.id);\n    } else {\n      onOpen();\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Menu, {\n      id: id,\n      theme: theme.dark,\n      children: [/*#__PURE__*/_jsxDEV(Item, {\n        onClick: getOrCreateDM,\n        className: \"menu-item\",\n        children: /*#__PURE__*/_jsxDEV(Flex, {\n          align: \"center\",\n          justify: \"space-between\",\n          w: \"full\",\n          children: /*#__PURE__*/_jsxDEV(Text, {\n            children: \"Message\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Item, {\n        onClick: handleFriendClick,\n        className: \"menu-item\",\n        children: /*#__PURE__*/_jsxDEV(Flex, {\n          align: \"center\",\n          justify: \"space-between\",\n          w: \"full\",\n          children: /*#__PURE__*/_jsxDEV(Text, {\n            children: [member.isFriend ? \"Remove\" : \"Add\", \" Friend\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this), isOwner && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Item, {\n          onClick: () => {\n            setIsBan(false);\n            modOnOpen();\n          },\n          className: \"delete-item\",\n          children: /*#__PURE__*/_jsxDEV(Flex, {\n            align: \"center\",\n            justify: \"space-between\",\n            w: \"full\",\n            children: /*#__PURE__*/_jsxDEV(Text, {\n              children: [\"Kick \", member.username]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Item, {\n          onClick: () => {\n            setIsBan(true);\n            modOnOpen();\n          },\n          className: \"delete-item\",\n          children: /*#__PURE__*/_jsxDEV(Flex, {\n            align: \"center\",\n            justify: \"space-between\",\n            w: \"full\",\n            children: /*#__PURE__*/_jsxDEV(Text, {\n              children: [\"Ban \", member.username]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this), isOpen && /*#__PURE__*/_jsxDEV(RemoveFriendModal, {\n      id: member.id,\n      isOpen: true,\n      onClose: onClose\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 18\n    }, this), modIsOpen && /*#__PURE__*/_jsxDEV(ModActionModal, {\n      member: member,\n      isOpen: modIsOpen,\n      isBan: isBan,\n      onClose: modOnClose\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n}\n\n_s(MemberContextMenu, \"q6VjDWzL2BUqLX3WN9jSFSkA+rQ=\", false, function () {\n  return [useHistory, useDisclosure, useDisclosure];\n});\n\n_c = MemberContextMenu;\n\nvar _c;\n\n$RefreshReg$(_c, \"MemberContextMenu\");","map":{"version":3,"sources":["/Users/paulndam/Documents/MERN/React-Course/Crash-Course/build-discord/client/src/components/menus/MemberContextMenu.js"],"names":["Flex","Text","useDisclosure","sendFriendRequest","getOrCreateDirectMessage","ModActionModal","RemoveFriendModal","React","useState","Item","Menu","theme","useHistory","MemberContextMenu","member","isOwner","id","history","isOpen","onOpen","onClose","modIsOpen","modOnOpen","modOnClose","isBan","setIsBan","getOrCreateDM","data","push","handleFriendClick","isFriend","dark","username"],"mappings":"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","sourcesContent":["import { Flex, Text, useDisclosure } from \"@chakra-ui/react\";\nimport { sendFriendRequest } from \"api/handler/account\";\nimport { getOrCreateDirectMessage } from \"api/handler/dm\";\nimport ModActionModal from \"components/modals/ModActionModal\";\nimport RemoveFriendModal from \"components/modals/RemoveFriendModal\";\nimport React, { useState } from \"react\";\nimport { Item, Menu, theme } from \"react-contexify\";\nimport { useHistory } from \"react-router-dom\";\n\nexport default function MemberContextMenu({ member, isOwner, id }) {\n  const history = useHistory();\n  const { isOpen, onOpen, onClose } = useDisclosure();\n  const {\n    isOpen: modIsOpen,\n    onOpen: modOnOpen,\n    onClose: modOnClose,\n  } = useDisclosure();\n  const [isBan, setIsBan] = useState(false);\n\n  const getOrCreateDM = async () => {\n    const { data } = await getOrCreateDirectMessage(member.id);\n    if (data) {\n      history.push(`/channels/me/${data.id}`);\n    }\n  };\n\n  const handleFriendClick = async () => {\n    if (!member.isFriend) {\n      await sendFriendRequest(member.id);\n    } else {\n      onOpen();\n    }\n  };\n\n  return (\n    <>\n      <Menu id={id} theme={theme.dark}>\n        <Item onClick={getOrCreateDM} className={\"menu-item\"}>\n          <Flex align=\"center\" justify=\"space-between\" w=\"full\">\n            <Text>Message</Text>\n          </Flex>\n        </Item>\n        <Item onClick={handleFriendClick} className={\"menu-item\"}>\n          <Flex align=\"center\" justify=\"space-between\" w=\"full\">\n            <Text>{member.isFriend ? \"Remove\" : \"Add\"} Friend</Text>\n          </Flex>\n        </Item>\n        {isOwner && (\n          <>\n            <Item\n              onClick={() => {\n                setIsBan(false);\n                modOnOpen();\n              }}\n              className={\"delete-item\"}\n            >\n              <Flex align=\"center\" justify=\"space-between\" w=\"full\">\n                <Text>Kick {member.username}</Text>\n              </Flex>\n            </Item>\n            <Item\n              onClick={() => {\n                setIsBan(true);\n                modOnOpen();\n              }}\n              className={\"delete-item\"}\n            >\n              <Flex align=\"center\" justify=\"space-between\" w=\"full\">\n                <Text>Ban {member.username}</Text>\n              </Flex>\n            </Item>\n          </>\n        )}\n      </Menu>\n      {isOpen && <RemoveFriendModal id={member.id} isOpen onClose={onClose} />}\n      {modIsOpen && (\n        <ModActionModal\n          member={member}\n          isOpen={modIsOpen}\n          isBan={isBan}\n          onClose={modOnClose}\n        />\n      )}\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}