{"ast":null,"code":"var _jsxFileName = \"/Users/paulndam/Documents/MERN/React-Course/Crash-Course/build-discord/client/src/components/items/RequestListItem.js\",\n    _s = $RefreshSig$();\n\nimport { Avatar, Box, Flex, IconButton, ListItem, Text } from \"@chakra-ui/react\";\nimport { acceptFriendRequest, declineFriendRequest } from \"api/handler/account\";\nimport StyledTooltip from \"components/sections/StyledTooltip\";\nimport React from \"react\";\nimport { AiOutlineClose } from \"react-icons/ai\";\nimport { BiCheck } from \"react-icons/bi\";\nimport { useQueryClient } from \"react-query\";\nimport { fKey, rKey } from \"utils/querykeys\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function RequestListItem({\n  request\n}) {\n  _s();\n\n  const cache = useQueryClient();\n\n  const acceptRequest = async () => {\n    const {\n      data\n    } = await acceptFriendRequest(request.id);\n\n    if (data) {\n      cache.setQueryData(rKey, d => {\n        return d === null || d === void 0 ? void 0 : d.filter(r => r.id !== request.id);\n      });\n      await cache.invalidateQueries(fKey);\n    }\n  };\n\n  const declineRequest = async () => {\n    const {\n      data\n    } = await declineFriendRequest(request.id);\n\n    if (data) {\n      cache.setQueryData(rKey, d => {\n        return d === null || d === void 0 ? void 0 : d.filter(r => r.id !== request.id);\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(ListItem, {\n    p: \"3\",\n    mx: \"3\",\n    _hover: {\n      bg: \"brandGray.dark\",\n      borderRadius: \"5px\"\n    },\n    children: /*#__PURE__*/_jsxDEV(Flex, {\n      align: \"center\",\n      justify: \"space-between\",\n      children: [/*#__PURE__*/_jsxDEV(Flex, {\n        align: \"center\",\n        children: [/*#__PURE__*/_jsxDEV(Avatar, {\n          size: \"sm\",\n          src: request.image\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          ml: \"2\",\n          children: [/*#__PURE__*/_jsxDEV(Text, {\n            children: request.username\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Text, {\n            fontSize: \"12px\",\n            children: request.type === 1 ? \"Incoming Friend Request\" : \"Outgoing Friend Request\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Flex, {\n        align: \"center\",\n        children: [request.type === 1 && /*#__PURE__*/_jsxDEV(StyledTooltip, {\n          label: \"Accept\",\n          position: \"top\",\n          children: /*#__PURE__*/_jsxDEV(IconButton, {\n            icon: /*#__PURE__*/_jsxDEV(BiCheck, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 23\n            }, this),\n            borderRadius: \"50%\",\n            \"aria-label\": \"accept request\",\n            fontSize: \"28px\",\n            onClick: acceptRequest,\n            mr: \"2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(StyledTooltip, {\n          label: \"Decline\",\n          position: \"top\",\n          children: /*#__PURE__*/_jsxDEV(IconButton, {\n            icon: /*#__PURE__*/_jsxDEV(AiOutlineClose, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 21\n            }, this),\n            borderRadius: \"50%\",\n            \"aria-label\": \"decline request\",\n            fontSize: \"20px\",\n            onClick: declineRequest\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n}\n\n_s(RequestListItem, \"VdhcCJc6a5pzERfJdTJetDfMu3A=\", false, function () {\n  return [useQueryClient];\n});\n\n_c = RequestListItem;\n\nvar _c;\n\n$RefreshReg$(_c, \"RequestListItem\");","map":{"version":3,"sources":["/Users/paulndam/Documents/MERN/React-Course/Crash-Course/build-discord/client/src/components/items/RequestListItem.js"],"names":["Avatar","Box","Flex","IconButton","ListItem","Text","acceptFriendRequest","declineFriendRequest","StyledTooltip","React","AiOutlineClose","BiCheck","useQueryClient","fKey","rKey","RequestListItem","request","cache","acceptRequest","data","id","setQueryData","d","filter","r","invalidateQueries","declineRequest","bg","borderRadius","image","username","type"],"mappings":"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","sourcesContent":["import {\n  Avatar,\n  Box,\n  Flex,\n  IconButton,\n  ListItem,\n  Text,\n} from \"@chakra-ui/react\";\nimport { acceptFriendRequest, declineFriendRequest } from \"api/handler/account\";\nimport StyledTooltip from \"components/sections/StyledTooltip\";\nimport React from \"react\";\nimport { AiOutlineClose } from \"react-icons/ai\";\nimport { BiCheck } from \"react-icons/bi\";\nimport { useQueryClient } from \"react-query\";\nimport { fKey, rKey } from \"utils/querykeys\";\n\nexport default function RequestListItem({ request }) {\n  const cache = useQueryClient();\n\n  const acceptRequest = async () => {\n    const { data } = await acceptFriendRequest(request.id);\n    if (data) {\n      cache.setQueryData(rKey, (d) => {\n        return d?.filter((r) => r.id !== request.id);\n      });\n      await cache.invalidateQueries(fKey);\n    }\n  };\n\n  const declineRequest = async () => {\n    const { data } = await declineFriendRequest(request.id);\n    if (data) {\n      cache.setQueryData(rKey, (d) => {\n        return d?.filter((r) => r.id !== request.id);\n      });\n    }\n  };\n\n  return (\n    <ListItem\n      p=\"3\"\n      mx=\"3\"\n      _hover={{\n        bg: \"brandGray.dark\",\n        borderRadius: \"5px\",\n      }}\n    >\n      <Flex align=\"center\" justify=\"space-between\">\n        <Flex align=\"center\">\n          <Avatar size=\"sm\" src={request.image} />\n          <Box ml=\"2\">\n            <Text>{request.username}</Text>\n            <Text fontSize={\"12px\"}>\n              {request.type === 1\n                ? \"Incoming Friend Request\"\n                : \"Outgoing Friend Request\"}\n            </Text>\n          </Box>\n        </Flex>\n        <Flex align={\"center\"}>\n          {request.type === 1 && (\n            <StyledTooltip label={\"Accept\"} position={\"top\"}>\n              <IconButton\n                icon={<BiCheck />}\n                borderRadius=\"50%\"\n                aria-label=\"accept request\"\n                fontSize={\"28px\"}\n                onClick={acceptRequest}\n                mr={\"2\"}\n              />\n            </StyledTooltip>\n          )}\n          <StyledTooltip label={\"Decline\"} position={\"top\"}>\n            <IconButton\n              icon={<AiOutlineClose />}\n              borderRadius=\"50%\"\n              aria-label=\"decline request\"\n              fontSize={\"20px\"}\n              onClick={declineRequest}\n            />\n          </StyledTooltip>\n        </Flex>\n      </Flex>\n    </ListItem>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}