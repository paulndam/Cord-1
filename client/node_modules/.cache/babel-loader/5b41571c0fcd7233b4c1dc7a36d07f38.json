{"ast":null,"code":"import _slicedToArray from\"/Users/paulndam/Documents/MERN/React-Course/Crash-Course/build-discord/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Avatar,Box,Flex,Icon,Text,useDisclosure}from\"@chakra-ui/react\";import MemberContextMenu from\"components/menus/MemberContextMenu\";import DeleteMessageModal from\"components/modals/DeleteMessageModal\";import EditMessageModal from\"components/modals/EditMessageModal\";import UserPopover from\"components/sections/UserPopover\";import useGetCurrentGuild from\"hooks/useGetCurrentGuild\";import React,{useState}from\"react\";import{Item,Menu,theme,useContextMenu}from\"react-contexify\";import{FaEllipsisH,FaRegTrashAlt}from\"react-icons/fa\";import{FiLink}from\"react-icons/fi\";import{MdEdit}from\"react-icons/md\";import{useParams}from\"react-router-dom\";import userStore from\"stores/userStore\";import{getShortenedTime,getTime}from\"utils/dateUtils\";import\"../css/ContextMenu.css\";import MessageContent from\"./MessageContent\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Message(_ref){var _message$user$color,_message$user$nicknam;var message=_ref.message,_ref$isCompact=_ref.isCompact,isCompact=_ref$isCompact===void 0?false:_ref$isCompact;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showSettings=_useState2[0],setShowSettings=_useState2[1];var current=userStore(function(state){return state.current;});var isAuthor=(current===null||current===void 0?void 0:current.id)===message.user.id;var _useParams=useParams(),guildId=_useParams.guildId;var guild=useGetCurrentGuild(guildId);var isOwner=guild!==undefined&&guild.ownerId===(current===null||current===void 0?void 0:current.id);var showMenu=isAuthor||isOwner||message.url;var _useDisclosure=useDisclosure(),isDeleteOpen=_useDisclosure.isOpen,onDeleteOpen=_useDisclosure.onOpen,onDeleteClose=_useDisclosure.onClose;var _useDisclosure2=useDisclosure(),isEditOpen=_useDisclosure2.isOpen,onEditOpen=_useDisclosure2.onOpen,onEditClose=_useDisclosure2.onClose;var id=\"\".concat(message.user.id,\"-\").concat(Math.random().toString(36).substr(2,5));var _useContextMenu=useContextMenu({id:message.id}),show=_useContextMenu.show;var _useContextMenu2=useContextMenu({id:id}),profileShow=_useContextMenu2.show;var openInNewTab=function openInNewTab(url){var newWindow=window.open(url,\"_blank\",\"noopener,noreferrer\");if(newWindow)newWindow.opener=null;};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Flex,{alignItems:\"center\",mr:\"1\",mt:isCompact?\"0\":\"3\",_hover:{bg:\"brandGray.hover\"},justify:\"space-between\",onMouseLeave:function onMouseLeave(){return setShowSettings(false);},onMouseEnter:function onMouseEnter(){return setShowSettings(true);},children:/*#__PURE__*/_jsx(Flex,{w:\"full\",children:isCompact?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Box,{ml:\"3\",minW:\"44px\",textAlign:\"center\",children:/*#__PURE__*/_jsx(Text,{fontSize:\"10px\",color:\"brandGray.accent\",mt:\"1\",hidden:!showSettings,children:getShortenedTime(message.createdAt)})}),/*#__PURE__*/_jsx(Box,{ml:\"3\",w:\"full\",onContextMenu:show,children:/*#__PURE__*/_jsx(MessageContent,{message:message})}),showSettings&&showMenu?/*#__PURE__*/_jsx(Box,{onClick:show,mr:\"2\",_hover:{cursor:\"pointer\"},h:\"5px\",children:/*#__PURE__*/_jsx(FaEllipsisH,{})}):/*#__PURE__*/_jsx(Box,{mr:\"6\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(UserPopover,{member:message.user,children:/*#__PURE__*/_jsx(Avatar,{h:\"40px\",w:\"40px\",ml:\"4\",mt:\"1\",src:message.user.image,_hover:{cursor:\"pointer\"},onContextMenu:function onContextMenu(e){if(!isAuthor)profileShow(e);}})}),/*#__PURE__*/_jsxs(Box,{ml:\"3\",w:\"full\",onContextMenu:show,children:[/*#__PURE__*/_jsxs(Flex,{alignItems:\"center\",justify:\"space-between\",children:[/*#__PURE__*/_jsxs(Flex,{alignItems:\"center\",children:[/*#__PURE__*/_jsx(Text,{color:(_message$user$color=message.user.color)!==null&&_message$user$color!==void 0?_message$user$color:undefined,children:(_message$user$nicknam=message.user.nickname)!==null&&_message$user$nicknam!==void 0?_message$user$nicknam:message.user.username}),/*#__PURE__*/_jsx(Text,{fontSize:\"12px\",color:\"brandGray.accent\",ml:\"2\",children:getTime(message.createdAt)})]}),showSettings&&showMenu&&/*#__PURE__*/_jsx(Box,{onClick:show,mr:\"2\",_hover:{cursor:\"pointer\"},children:/*#__PURE__*/_jsx(FaEllipsisH,{})})]}),/*#__PURE__*/_jsx(MessageContent,{message:message})]})]})})}),showMenu&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Menu,{id:message.id,theme:theme.dark,children:[message.filetype?/*#__PURE__*/_jsx(Item,{className:\"menu-item\",onClick:function onClick(){if(message.url)openInNewTab(message.url);},children:/*#__PURE__*/_jsxs(Flex,{align:\"center\",justify:\"space-between\",w:\"full\",children:[/*#__PURE__*/_jsx(Text,{children:\"Open Link\"}),/*#__PURE__*/_jsx(Icon,{as:FiLink})]})}):!isAuthor?null:/*#__PURE__*/_jsx(Item,{className:\"menu-item\",onClick:onEditOpen,children:/*#__PURE__*/_jsxs(Flex,{align:\"center\",justify:\"space-between\",w:\"full\",children:[/*#__PURE__*/_jsx(Text,{children:\"Edit Message\"}),/*#__PURE__*/_jsx(Icon,{as:MdEdit})]})}),(isAuthor||isOwner)&&/*#__PURE__*/_jsx(Item,{onClick:onDeleteOpen,className:\"delete-item\",children:/*#__PURE__*/_jsxs(Flex,{align:\"center\",justify:\"space-between\",w:\"full\",children:[/*#__PURE__*/_jsx(Text,{children:\"Delete Message\"}),/*#__PURE__*/_jsx(Icon,{as:FaRegTrashAlt})]})})]}),isDeleteOpen&&/*#__PURE__*/_jsx(DeleteMessageModal,{message:message,isOpen:isDeleteOpen,onClose:onDeleteClose}),isEditOpen&&/*#__PURE__*/_jsx(EditMessageModal,{message:message,isOpen:isEditOpen,onClose:onEditClose})]}),!isAuthor&&/*#__PURE__*/_jsx(MemberContextMenu,{member:message.user,isOwner:isOwner,id:id})]});}","map":{"version":3,"sources":["/Users/paulndam/Documents/MERN/React-Course/Crash-Course/build-discord/client/src/components/items/message/Message.js"],"names":["Avatar","Box","Flex","Icon","Text","useDisclosure","MemberContextMenu","DeleteMessageModal","EditMessageModal","UserPopover","useGetCurrentGuild","React","useState","Item","Menu","theme","useContextMenu","FaEllipsisH","FaRegTrashAlt","FiLink","MdEdit","useParams","userStore","getShortenedTime","getTime","MessageContent","Message","message","isCompact","showSettings","setShowSettings","current","state","isAuthor","id","user","guildId","guild","isOwner","undefined","ownerId","showMenu","url","isDeleteOpen","isOpen","onDeleteOpen","onOpen","onDeleteClose","onClose","isEditOpen","onEditOpen","onEditClose","Math","random","toString","substr","show","profileShow","openInNewTab","newWindow","window","open","opener","bg","createdAt","cursor","image","e","color","nickname","username","dark","filetype"],"mappings":"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","sourcesContent":["import { Avatar, Box, Flex, Icon, Text, useDisclosure } from \"@chakra-ui/react\";\nimport MemberContextMenu from \"components/menus/MemberContextMenu\";\nimport DeleteMessageModal from \"components/modals/DeleteMessageModal\";\nimport EditMessageModal from \"components/modals/EditMessageModal\";\nimport UserPopover from \"components/sections/UserPopover\";\nimport useGetCurrentGuild from \"hooks/useGetCurrentGuild\";\nimport React, { useState } from \"react\";\nimport { Item, Menu, theme, useContextMenu } from \"react-contexify\";\nimport { FaEllipsisH, FaRegTrashAlt } from \"react-icons/fa\";\nimport { FiLink } from \"react-icons/fi\";\nimport { MdEdit } from \"react-icons/md\";\nimport { useParams } from \"react-router-dom\";\nimport userStore from \"stores/userStore\";\nimport { getShortenedTime, getTime } from \"utils/dateUtils\";\nimport \"../css/ContextMenu.css\";\nimport MessageContent from \"./MessageContent\";\n\nexport default function Message({ message, isCompact = false }) {\n  const [showSettings, setShowSettings] = useState(false);\n  const current = userStore((state) => state.current);\n  const isAuthor = current?.id === message.user.id;\n  const { guildId } = useParams();\n  const guild = useGetCurrentGuild(guildId);\n  const isOwner = guild !== undefined && guild.ownerId === current?.id;\n  const showMenu = isAuthor || isOwner || message.url;\n\n  const {\n    isOpen: isDeleteOpen,\n    onOpen: onDeleteOpen,\n    onClose: onDeleteClose,\n  } = useDisclosure();\n  const {\n    isOpen: isEditOpen,\n    onOpen: onEditOpen,\n    onClose: onEditClose,\n  } = useDisclosure();\n  const id = `${message.user.id}-${Math.random().toString(36).substr(2, 5)}`;\n\n  const { show } = useContextMenu({\n    id: message.id,\n  });\n\n  const { show: profileShow } = useContextMenu({ id });\n\n  const openInNewTab = (url) => {\n    const newWindow = window.open(url, \"_blank\", \"noopener,noreferrer\");\n    if (newWindow) newWindow.opener = null;\n  };\n\n  return (\n    <>\n      <Flex\n        alignItems=\"center\"\n        mr=\"1\"\n        mt={isCompact ? \"0\" : \"3\"}\n        _hover={{ bg: \"brandGray.hover\" }}\n        justify=\"space-between\"\n        onMouseLeave={() => setShowSettings(false)}\n        onMouseEnter={() => setShowSettings(true)}\n      >\n        <Flex w={\"full\"}>\n          {isCompact ? (\n            <>\n              <Box ml={\"3\"} minW={\"44px\"} textAlign={\"center\"}>\n                <Text\n                  fontSize={\"10px\"}\n                  color=\"brandGray.accent\"\n                  mt={\"1\"}\n                  hidden={!showSettings}\n                >\n                  {getShortenedTime(message.createdAt)}\n                </Text>\n              </Box>\n\n              <Box ml=\"3\" w={\"full\"} onContextMenu={show}>\n                <MessageContent message={message} />\n              </Box>\n              {showSettings && showMenu ? (\n                <Box\n                  onClick={show}\n                  mr=\"2\"\n                  _hover={{ cursor: \"pointer\" }}\n                  h={\"5px\"}\n                >\n                  <FaEllipsisH />\n                </Box>\n              ) : (\n                <Box mr={\"6\"} />\n              )}\n            </>\n          ) : (\n            <>\n              <UserPopover member={message.user}>\n                <Avatar\n                  h=\"40px\"\n                  w=\"40px\"\n                  ml=\"4\"\n                  mt={\"1\"}\n                  src={message.user.image}\n                  _hover={{\n                    cursor: \"pointer\",\n                  }}\n                  onContextMenu={(e) => {\n                    if (!isAuthor) profileShow(e);\n                  }}\n                />\n              </UserPopover>\n              <Box ml=\"3\" w={\"full\"} onContextMenu={show}>\n                <Flex alignItems=\"center\" justify={\"space-between\"}>\n                  <Flex alignItems={\"center\"}>\n                    <Text color={message.user.color ?? undefined}>\n                      {message.user.nickname ?? message.user.username}\n                    </Text>\n                    <Text fontSize=\"12px\" color=\"brandGray.accent\" ml=\"2\">\n                      {getTime(message.createdAt)}\n                    </Text>\n                  </Flex>\n                  {showSettings && showMenu && (\n                    <Box onClick={show} mr=\"2\" _hover={{ cursor: \"pointer\" }}>\n                      <FaEllipsisH />\n                    </Box>\n                  )}\n                </Flex>\n                <MessageContent message={message} />\n              </Box>\n            </>\n          )}\n        </Flex>\n      </Flex>\n      {showMenu && (\n        <>\n          <Menu id={message.id} theme={theme.dark}>\n            {message.filetype ? (\n              <Item\n                className={\"menu-item\"}\n                onClick={() => {\n                  if (message.url) openInNewTab(message.url);\n                }}\n              >\n                <Flex align=\"center\" justify=\"space-between\" w=\"full\">\n                  <Text>Open Link</Text>\n                  <Icon as={FiLink} />\n                </Flex>\n              </Item>\n            ) : !isAuthor ? null : (\n              <Item className={\"menu-item\"} onClick={onEditOpen}>\n                <Flex align=\"center\" justify=\"space-between\" w=\"full\">\n                  <Text>Edit Message</Text>\n                  <Icon as={MdEdit} />\n                </Flex>\n              </Item>\n            )}\n            {(isAuthor || isOwner) && (\n              <Item onClick={onDeleteOpen} className={\"delete-item\"}>\n                <Flex align=\"center\" justify=\"space-between\" w=\"full\">\n                  <Text>Delete Message</Text>\n                  <Icon as={FaRegTrashAlt} />\n                </Flex>\n              </Item>\n            )}\n          </Menu>\n          {isDeleteOpen && (\n            <DeleteMessageModal\n              message={message}\n              isOpen={isDeleteOpen}\n              onClose={onDeleteClose}\n            />\n          )}\n          {isEditOpen && (\n            <EditMessageModal\n              message={message}\n              isOpen={isEditOpen}\n              onClose={onEditClose}\n            />\n          )}\n        </>\n      )}\n      {!isAuthor && (\n        <MemberContextMenu member={message.user} isOwner={isOwner} id={id} />\n      )}\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}