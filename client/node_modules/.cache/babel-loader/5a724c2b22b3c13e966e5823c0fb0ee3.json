{"ast":null,"code":"import _slicedToArray from\"/Users/paulndam/Documents/MERN/React-Course/Crash-Course/build-discord/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Avatar,Flex}from\"@chakra-ui/react\";import StyledTooltip from\"components/sections/StyledTooltip\";import{ActiveGuildPill,HoverGuildPill,NotificationIndicator}from\"components/shared/GuildPills\";import React,{useEffect,useState}from\"react\";import{useQueryClient}from\"react-query\";import{Link,useLocation}from\"react-router-dom\";import{gKey}from\"utils/querykeys\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function GuildListItem(_ref){var guild=_ref.guild;var location=useLocation();var isActive=location.pathname.includes(guild.id);var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isHover=_useState2[0],setHover=_useState2[1];var cache=useQueryClient();useEffect(function(){if(guild.hasNotification&&isActive){cache.invalidateQueries(gKey);// cache.setQueryData(gKey, (d) => {\n//   const index = d?.findIndex((c) => c.id === guild.id);\n//   if (index !== -1) {\n//     d[index] = { ...d[index], hasNotification: false };\n//   }\n//   return d;\n// });\n}});return/*#__PURE__*/_jsxs(Flex,{mb:\"2\",justify:\"center\",children:[isActive&&/*#__PURE__*/_jsx(ActiveGuildPill,{}),isHover&&/*#__PURE__*/_jsx(HoverGuildPill,{}),guild.hasNotification&&/*#__PURE__*/_jsx(NotificationIndicator,{}),/*#__PURE__*/_jsx(StyledTooltip,{label:guild.name,position:\"right\",children:/*#__PURE__*/_jsx(Link,{to:\"/channels/\".concat(guild.id,\"/\").concat(guild.default_channel_id),children:guild.icon?/*#__PURE__*/_jsx(Avatar,{src:guild.icon,borderRadius:isActive?\"35%\":\"50%\",_hover:{borderRadius:\"35%\"},name:guild.name,color:\"#fff\",bg:\"brandGray.light\",onMouseLeave:function onMouseLeave(){return setHover(false);},onMouseEnter:function onMouseEnter(){return setHover(true);}}):/*#__PURE__*/_jsx(Flex,{justify:\"center\",align:\"center\",bg:isActive?\"highlight.standard\":\"brandGray.light\",borderRadius:isActive?\"35%\":\"50%\",h:\"48px\",w:\"48px\",color:isActive?\"white\":undefined,fontSize:\"20px\",_hover:{borderRadius:\"35%\",bg:\"highlight.standard\",color:\"white\"},onMouseLeave:function onMouseLeave(){return setHover(false);},onMouseEnter:function onMouseEnter(){return setHover(true);},children:guild.name[0]})})})]});}","map":{"version":3,"sources":["/Users/paulndam/Documents/MERN/React-Course/Crash-Course/build-discord/client/src/components/items/GuildListItem.js"],"names":["Avatar","Flex","StyledTooltip","ActiveGuildPill","HoverGuildPill","NotificationIndicator","React","useEffect","useState","useQueryClient","Link","useLocation","gKey","GuildListItem","guild","location","isActive","pathname","includes","id","isHover","setHover","cache","hasNotification","invalidateQueries","name","default_channel_id","icon","borderRadius","undefined","bg","color"],"mappings":"oMAAA,OAASA,MAAT,CAAiBC,IAAjB,KAA6B,kBAA7B,CACA,MAAOC,CAAAA,aAAP,KAA0B,mCAA1B,CACA,OACEC,eADF,CAEEC,cAFF,CAGEC,qBAHF,KAIO,8BAJP,CAKA,MAAOC,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,cAAT,KAA+B,aAA/B,CACA,OAASC,IAAT,CAAeC,WAAf,KAAkC,kBAAlC,CACA,OAASC,IAAT,KAAqB,iBAArB,C,wFAEA,cAAe,SAASC,CAAAA,aAAT,MAAkC,IAATC,CAAAA,KAAS,MAATA,KAAS,CAC/C,GAAMC,CAAAA,QAAQ,CAAGJ,WAAW,EAA5B,CACA,GAAMK,CAAAA,QAAQ,CAAGD,QAAQ,CAACE,QAAT,CAAkBC,QAAlB,CAA2BJ,KAAK,CAACK,EAAjC,CAAjB,CAF+C,cAGnBX,QAAQ,CAAC,KAAD,CAHW,wCAGxCY,OAHwC,eAG/BC,QAH+B,eAI/C,GAAMC,CAAAA,KAAK,CAAGb,cAAc,EAA5B,CAEAF,SAAS,CAAC,UAAM,CACd,GAAIO,KAAK,CAACS,eAAN,EAAyBP,QAA7B,CAAuC,CACrCM,KAAK,CAACE,iBAAN,CAAwBZ,IAAxB,EACA;AACA;AACA;AACA;AACA;AACA;AACA;AACD,CACF,CAXQ,CAAT,CAaA,mBACE,MAAC,IAAD,EAAM,EAAE,CAAE,GAAV,CAAe,OAAO,CAAE,QAAxB,WACGI,QAAQ,eAAI,KAAC,eAAD,IADf,CAEGI,OAAO,eAAI,KAAC,cAAD,IAFd,CAGGN,KAAK,CAACS,eAAN,eAAyB,KAAC,qBAAD,IAH5B,cAIE,KAAC,aAAD,EAAe,KAAK,CAAET,KAAK,CAACW,IAA5B,CAAkC,QAAQ,CAAE,OAA5C,uBACE,KAAC,IAAD,EAAM,EAAE,qBAAeX,KAAK,CAACK,EAArB,aAA2BL,KAAK,CAACY,kBAAjC,CAAR,UACGZ,KAAK,CAACa,IAAN,cACC,KAAC,MAAD,EACE,GAAG,CAAEb,KAAK,CAACa,IADb,CAEE,YAAY,CAAEX,QAAQ,CAAG,KAAH,CAAW,KAFnC,CAGE,MAAM,CAAE,CAAEY,YAAY,CAAE,KAAhB,CAHV,CAIE,IAAI,CAAEd,KAAK,CAACW,IAJd,CAKE,KAAK,CAAE,MALT,CAME,EAAE,CAAE,iBANN,CAOE,YAAY,CAAE,8BAAMJ,CAAAA,QAAQ,CAAC,KAAD,CAAd,EAPhB,CAQE,YAAY,CAAE,8BAAMA,CAAAA,QAAQ,CAAC,IAAD,CAAd,EARhB,EADD,cAYC,KAAC,IAAD,EACE,OAAO,CAAE,QADX,CAEE,KAAK,CAAE,QAFT,CAGE,EAAE,CAAEL,QAAQ,CAAG,oBAAH,CAA0B,iBAHxC,CAIE,YAAY,CAAEA,QAAQ,CAAG,KAAH,CAAW,KAJnC,CAKE,CAAC,CAAE,MALL,CAME,CAAC,CAAE,MANL,CAOE,KAAK,CAAEA,QAAQ,CAAG,OAAH,CAAaa,SAP9B,CAQE,QAAQ,CAAC,MARX,CASE,MAAM,CAAE,CACND,YAAY,CAAE,KADR,CAENE,EAAE,CAAE,oBAFE,CAGNC,KAAK,CAAE,OAHD,CATV,CAcE,YAAY,CAAE,8BAAMV,CAAAA,QAAQ,CAAC,KAAD,CAAd,EAdhB,CAeE,YAAY,CAAE,8BAAMA,CAAAA,QAAQ,CAAC,IAAD,CAAd,EAfhB,UAiBGP,KAAK,CAACW,IAAN,CAAW,CAAX,CAjBH,EAbJ,EADF,EAJF,GADF,CA2CD","sourcesContent":["import { Avatar, Flex } from \"@chakra-ui/react\";\nimport StyledTooltip from \"components/sections/StyledTooltip\";\nimport {\n  ActiveGuildPill,\n  HoverGuildPill,\n  NotificationIndicator,\n} from \"components/shared/GuildPills\";\nimport React, { useEffect, useState } from \"react\";\nimport { useQueryClient } from \"react-query\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport { gKey } from \"utils/querykeys\";\n\nexport default function GuildListItem({ guild }) {\n  const location = useLocation();\n  const isActive = location.pathname.includes(guild.id);\n  const [isHover, setHover] = useState(false);\n  const cache = useQueryClient();\n\n  useEffect(() => {\n    if (guild.hasNotification && isActive) {\n      cache.invalidateQueries(gKey);\n      // cache.setQueryData(gKey, (d) => {\n      //   const index = d?.findIndex((c) => c.id === guild.id);\n      //   if (index !== -1) {\n      //     d[index] = { ...d[index], hasNotification: false };\n      //   }\n      //   return d;\n      // });\n    }\n  });\n\n  return (\n    <Flex mb={\"2\"} justify={\"center\"}>\n      {isActive && <ActiveGuildPill />}\n      {isHover && <HoverGuildPill />}\n      {guild.hasNotification && <NotificationIndicator />}\n      <StyledTooltip label={guild.name} position={\"right\"}>\n        <Link to={`/channels/${guild.id}/${guild.default_channel_id}`}>\n          {guild.icon ? (\n            <Avatar\n              src={guild.icon}\n              borderRadius={isActive ? \"35%\" : \"50%\"}\n              _hover={{ borderRadius: \"35%\" }}\n              name={guild.name}\n              color={\"#fff\"}\n              bg={\"brandGray.light\"}\n              onMouseLeave={() => setHover(false)}\n              onMouseEnter={() => setHover(true)}\n            />\n          ) : (\n            <Flex\n              justify={\"center\"}\n              align={\"center\"}\n              bg={isActive ? \"highlight.standard\" : \"brandGray.light\"}\n              borderRadius={isActive ? \"35%\" : \"50%\"}\n              h={\"48px\"}\n              w={\"48px\"}\n              color={isActive ? \"white\" : undefined}\n              fontSize=\"20px\"\n              _hover={{\n                borderRadius: \"35%\",\n                bg: \"highlight.standard\",\n                color: \"white\",\n              }}\n              onMouseLeave={() => setHover(false)}\n              onMouseEnter={() => setHover(true)}\n            >\n              {guild.name[0]}\n            </Flex>\n          )}\n        </Link>\n      </StyledTooltip>\n    </Flex>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}