{"ast":null,"code":"var _jsxFileName = \"/Users/paulndam/Documents/MERN/React-Course/Crash-Course/build-discord/client/src/components/items/GuildListItem.js\",\n    _s = $RefreshSig$();\n\nimport { Avatar, Flex } from \"@chakra-ui/react\";\nimport StyledTooltip from \"components/sections/StyledTooltip\";\nimport { ActiveGuildPill, HoverGuildPill, NotificationIndicator } from \"components/shared/GuildPills\";\nimport React, { useEffect, useState } from \"react\";\nimport { useQueryClient } from \"react-query\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport { gKey } from \"utils/querykeys\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function GuildListItem({\n  guild\n}) {\n  _s();\n\n  const location = useLocation();\n  const isActive = location.pathname.includes(guild.id);\n  const [isHover, setHover] = useState(false);\n  const cache = useQueryClient();\n  useEffect(() => {\n    if (guild.hasNotification && isActive) {\n      cache.invalidateQueries(gKey); // cache.setQueryData(gKey, (d) => {\n      //   const index = d?.findIndex((c) => c.id === guild.id);\n      //   if (index !== -1) {\n      //     d[index] = { ...d[index], hasNotification: false };\n      //   }\n      //   return d;\n      // });\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(Flex, {\n    mb: \"2\",\n    justify: \"center\",\n    children: [isActive && /*#__PURE__*/_jsxDEV(ActiveGuildPill, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 20\n    }, this), isHover && /*#__PURE__*/_jsxDEV(HoverGuildPill, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 19\n    }, this), guild.hasNotification && /*#__PURE__*/_jsxDEV(NotificationIndicator, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 33\n    }, this), /*#__PURE__*/_jsxDEV(StyledTooltip, {\n      label: guild.name,\n      position: \"right\",\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: `/channels/${guild.id}/${guild.default_channel_id}`,\n        children: guild.icon ? /*#__PURE__*/_jsxDEV(Avatar, {\n          src: guild.icon,\n          borderRadius: isActive ? \"35%\" : \"50%\",\n          _hover: {\n            borderRadius: \"35%\"\n          },\n          name: guild.name,\n          color: \"#fff\",\n          bg: \"brandGray.light\",\n          onMouseLeave: () => setHover(false),\n          onMouseEnter: () => setHover(true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(Flex, {\n          justify: \"center\",\n          align: \"center\",\n          bg: isActive ? \"highlight.standard\" : \"brandGray.light\",\n          borderRadius: isActive ? \"35%\" : \"50%\",\n          h: \"48px\",\n          w: \"48px\",\n          color: isActive ? \"white\" : undefined,\n          fontSize: \"20px\",\n          _hover: {\n            borderRadius: \"35%\",\n            bg: \"highlight.standard\",\n            color: \"white\"\n          },\n          onMouseLeave: () => setHover(false),\n          onMouseEnter: () => setHover(true),\n          children: guild.name[0]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 5\n  }, this);\n}\n\n_s(GuildListItem, \"fJM67tn8XDFAOL/nsYTg8oHF+sQ=\", false, function () {\n  return [useLocation, useQueryClient];\n});\n\n_c = GuildListItem;\n\nvar _c;\n\n$RefreshReg$(_c, \"GuildListItem\");","map":{"version":3,"sources":["/Users/paulndam/Documents/MERN/React-Course/Crash-Course/build-discord/client/src/components/items/GuildListItem.js"],"names":["Avatar","Flex","StyledTooltip","ActiveGuildPill","HoverGuildPill","NotificationIndicator","React","useEffect","useState","useQueryClient","Link","useLocation","gKey","GuildListItem","guild","location","isActive","pathname","includes","id","isHover","setHover","cache","hasNotification","invalidateQueries","name","default_channel_id","icon","borderRadius","undefined","bg","color"],"mappings":"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","sourcesContent":["import { Avatar, Flex } from \"@chakra-ui/react\";\nimport StyledTooltip from \"components/sections/StyledTooltip\";\nimport {\n  ActiveGuildPill,\n  HoverGuildPill,\n  NotificationIndicator,\n} from \"components/shared/GuildPills\";\nimport React, { useEffect, useState } from \"react\";\nimport { useQueryClient } from \"react-query\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport { gKey } from \"utils/querykeys\";\n\nexport default function GuildListItem({ guild }) {\n  const location = useLocation();\n  const isActive = location.pathname.includes(guild.id);\n  const [isHover, setHover] = useState(false);\n  const cache = useQueryClient();\n\n  useEffect(() => {\n    if (guild.hasNotification && isActive) {\n      cache.invalidateQueries(gKey);\n      // cache.setQueryData(gKey, (d) => {\n      //   const index = d?.findIndex((c) => c.id === guild.id);\n      //   if (index !== -1) {\n      //     d[index] = { ...d[index], hasNotification: false };\n      //   }\n      //   return d;\n      // });\n    }\n  });\n\n  return (\n    <Flex mb={\"2\"} justify={\"center\"}>\n      {isActive && <ActiveGuildPill />}\n      {isHover && <HoverGuildPill />}\n      {guild.hasNotification && <NotificationIndicator />}\n      <StyledTooltip label={guild.name} position={\"right\"}>\n        <Link to={`/channels/${guild.id}/${guild.default_channel_id}`}>\n          {guild.icon ? (\n            <Avatar\n              src={guild.icon}\n              borderRadius={isActive ? \"35%\" : \"50%\"}\n              _hover={{ borderRadius: \"35%\" }}\n              name={guild.name}\n              color={\"#fff\"}\n              bg={\"brandGray.light\"}\n              onMouseLeave={() => setHover(false)}\n              onMouseEnter={() => setHover(true)}\n            />\n          ) : (\n            <Flex\n              justify={\"center\"}\n              align={\"center\"}\n              bg={isActive ? \"highlight.standard\" : \"brandGray.light\"}\n              borderRadius={isActive ? \"35%\" : \"50%\"}\n              h={\"48px\"}\n              w={\"48px\"}\n              color={isActive ? \"white\" : undefined}\n              fontSize=\"20px\"\n              _hover={{\n                borderRadius: \"35%\",\n                bg: \"highlight.standard\",\n                color: \"white\",\n              }}\n              onMouseLeave={() => setHover(false)}\n              onMouseEnter={() => setHover(true)}\n            >\n              {guild.name[0]}\n            </Flex>\n          )}\n        </Link>\n      </StyledTooltip>\n    </Flex>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}