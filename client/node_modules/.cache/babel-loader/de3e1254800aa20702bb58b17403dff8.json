{"ast":null,"code":"var _jsxFileName = \"/Users/paulndam/Documents/MERN/React-Course/Crash-Course/build-discord/client/src/components/modals/RemoveFriendModal.js\",\n    _s = $RefreshSig$();\n\nimport { Button, LightMode, Modal, ModalBody, ModalContent, ModalFooter, ModalHeader, ModalOverlay, Text } from \"@chakra-ui/react\";\nimport { removeFriend } from \"api/handler/account\";\nimport React from \"react\";\nimport { useQuery, useQueryClient } from \"react-query\";\nimport useGetFriend from \"hooks/useGetFriend\";\nimport { fKey } from \"utils/querykeys\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function RemoveFriendModal({\n  id,\n  isOpen,\n  onClose\n}) {\n  _s();\n\n  const user = useGetFriend(id);\n  const cache = useQueryClient();\n\n  async function handleRemoveFriend() {\n    onClose();\n    const {\n      data\n    } = await removeFriend(id);\n\n    if (data) {\n      //cache.invalidateQueries(fKey)\n      cache.setQueryData(fKey, friends => {\n        return friends === null || friends === void 0 ? void 0 : friends.filter(friend => friend.id !== id);\n      });\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    isOpen: isOpen,\n    onClose: onClose,\n    isCentered: true,\n    children: [/*#__PURE__*/_jsxDEV(ModalOverlay, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ModalContent, {\n      bg: \"brandGray.light\",\n      children: [/*#__PURE__*/_jsxDEV(ModalHeader, {\n        textTransform: \"uppercase\",\n        fontWeight: \"bold\",\n        mb: 0,\n        pb: 0,\n        children: [\"Remove \", user.username]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ModalBody, {\n        children: /*#__PURE__*/_jsxDEV(Text, {\n          mb: \"4\",\n          children: [\"Are you sure you want to permanently remove \", /*#__PURE__*/_jsxDEV(\"b\", {\n            children: user.username\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 57\n          }, this), \" \", \"from your friends?\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ModalFooter, {\n        bg: \"brandGray.dark\",\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: onClose,\n          mr: 6,\n          variant: \"link\",\n          fontSize: \"14px\",\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(LightMode, {\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            colorScheme: \"red\",\n            fontSize: \"14px\",\n            onClick: handleRemoveFriend,\n            children: \"Remove Friend\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 5\n  }, this);\n}\n\n_s(RemoveFriendModal, \"BwvqP52JoSbNgn60iTgq8L0ycg8=\", false, function () {\n  return [useGetFriend, useQueryClient];\n});\n\n_c = RemoveFriendModal;\n\nvar _c;\n\n$RefreshReg$(_c, \"RemoveFriendModal\");","map":{"version":3,"sources":["/Users/paulndam/Documents/MERN/React-Course/Crash-Course/build-discord/client/src/components/modals/RemoveFriendModal.js"],"names":["Button","LightMode","Modal","ModalBody","ModalContent","ModalFooter","ModalHeader","ModalOverlay","Text","removeFriend","React","useQuery","useQueryClient","useGetFriend","fKey","RemoveFriendModal","id","isOpen","onClose","user","cache","handleRemoveFriend","data","setQueryData","friends","filter","friend","username"],"mappings":";;;AAAA,SACEA,MADF,EAEEC,SAFF,EAGEC,KAHF,EAIEC,SAJF,EAKEC,YALF,EAMEC,WANF,EAOEC,WAPF,EAQEC,YARF,EASEC,IATF,QAUO,kBAVP;AAWA,SAASC,YAAT,QAA6B,qBAA7B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,EAAmBC,cAAnB,QAAyC,aAAzC;AACA,OAAOC,YAAP,MAAyB,oBAAzB;AACA,SAASC,IAAT,QAAqB,iBAArB;;AAEA,eAAe,SAASC,iBAAT,CAA2B;AAAEC,EAAAA,EAAF;AAAMC,EAAAA,MAAN;AAAcC,EAAAA;AAAd,CAA3B,EAAoD;AAAA;;AACjE,QAAMC,IAAI,GAAGN,YAAY,CAACG,EAAD,CAAzB;AACA,QAAMI,KAAK,GAAGR,cAAc,EAA5B;;AAEA,iBAAeS,kBAAf,GAAoC;AAClCH,IAAAA,OAAO;AACP,UAAM;AAAEI,MAAAA;AAAF,QAAW,MAAMb,YAAY,CAACO,EAAD,CAAnC;;AAEA,QAAIM,IAAJ,EAAU;AACR;AACAF,MAAAA,KAAK,CAACG,YAAN,CAAmBT,IAAnB,EAA0BU,OAAD,IAAa;AACpC,eAAOA,OAAP,aAAOA,OAAP,uBAAOA,OAAO,CAAEC,MAAT,CAAiBC,MAAD,IAAYA,MAAM,CAACV,EAAP,KAAcA,EAA1C,CAAP;AACD,OAFD;AAGD;AACF;;AAED,sBACE,QAAC,KAAD;AAAO,IAAA,MAAM,EAAEC,MAAf;AAAuB,IAAA,OAAO,EAAEC,OAAhC;AAAyC,IAAA,UAAU,MAAnD;AAAA,4BACE,QAAC,YAAD;AAAA;AAAA;AAAA;AAAA,YADF,eAGE,QAAC,YAAD;AAAc,MAAA,EAAE,EAAC,iBAAjB;AAAA,8BACE,QAAC,WAAD;AACE,QAAA,aAAa,EAAE,WADjB;AAEE,QAAA,UAAU,EAAC,MAFb;AAGE,QAAA,EAAE,EAAE,CAHN;AAIE,QAAA,EAAE,EAAE,CAJN;AAAA,8BAMUC,IAAI,CAACQ,QANf;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eASE,QAAC,SAAD;AAAA,+BACE,QAAC,IAAD;AAAM,UAAA,EAAE,EAAE,GAAV;AAAA,kFAC8C;AAAA,sBAAIR,IAAI,CAACQ;AAAT;AAAA;AAAA;AAAA;AAAA,kBAD9C,EACqE,GADrE;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cATF,eAgBE,QAAC,WAAD;AAAa,QAAA,EAAE,EAAC,gBAAhB;AAAA,gCACE,QAAC,MAAD;AAAQ,UAAA,OAAO,EAAET,OAAjB;AAA0B,UAAA,EAAE,EAAE,CAA9B;AAAiC,UAAA,OAAO,EAAC,MAAzC;AAAgD,UAAA,QAAQ,EAAE,MAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAIE,QAAC,SAAD;AAAA,iCACE,QAAC,MAAD;AACE,YAAA,WAAW,EAAC,KADd;AAEE,YAAA,QAAQ,EAAE,MAFZ;AAGE,YAAA,OAAO,EAAEG,kBAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBAJF;AAAA;AAAA;AAAA;AAAA;AAAA,cAhBF;AAAA;AAAA;AAAA;AAAA;AAAA,YAHF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAqCD;;GArDuBN,iB;UACTF,Y,EACCD,c;;;KAFQG,iB","sourcesContent":["import {\n  Button,\n  LightMode,\n  Modal,\n  ModalBody,\n  ModalContent,\n  ModalFooter,\n  ModalHeader,\n  ModalOverlay,\n  Text,\n} from \"@chakra-ui/react\";\nimport { removeFriend } from \"api/handler/account\";\nimport React from \"react\";\nimport { useQuery, useQueryClient } from \"react-query\";\nimport useGetFriend from \"hooks/useGetFriend\";\nimport { fKey } from \"utils/querykeys\";\n\nexport default function RemoveFriendModal({ id, isOpen, onClose }) {\n  const user = useGetFriend(id);\n  const cache = useQueryClient();\n\n  async function handleRemoveFriend() {\n    onClose();\n    const { data } = await removeFriend(id);\n\n    if (data) {\n      //cache.invalidateQueries(fKey)\n      cache.setQueryData(fKey, (friends) => {\n        return friends?.filter((friend) => friend.id !== id);\n      });\n    }\n  }\n\n  return (\n    <Modal isOpen={isOpen} onClose={onClose} isCentered>\n      <ModalOverlay />\n\n      <ModalContent bg=\"brandGray.light\">\n        <ModalHeader\n          textTransform={\"uppercase\"}\n          fontWeight=\"bold\"\n          mb={0}\n          pb={0}\n        >\n          Remove {user.username}\n        </ModalHeader>\n        <ModalBody>\n          <Text mb={\"4\"}>\n            Are you sure you want to permanently remove <b>{user.username}</b>{\" \"}\n            from your friends?\n          </Text>\n        </ModalBody>\n\n        <ModalFooter bg=\"brandGray.dark\">\n          <Button onClick={onClose} mr={6} variant=\"link\" fontSize={\"14px\"}>\n            Cancel\n          </Button>\n          <LightMode>\n            <Button\n              colorScheme=\"red\"\n              fontSize={\"14px\"}\n              onClick={handleRemoveFriend}\n            >\n              Remove Friend\n            </Button>\n          </LightMode>\n        </ModalFooter>\n      </ModalContent>\n    </Modal>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}