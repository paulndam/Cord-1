{"ast":null,"code":"import _regeneratorRuntime from\"/Users/paulndam/Documents/MERN/React-Course/Crash-Course/build-discord/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/paulndam/Documents/MERN/React-Course/Crash-Course/build-discord/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{Box,Button,Flex,Heading,Image,useToast}from\"@chakra-ui/react\";import{forgotPassword}from\"api/handler/auth\";import{Form,Formik}from\"formik\";import React from\"react\";import{useHistory}from\"react-router-dom\";import toErrorMap from\"utils/toErrorMap\";import InputField from\"components/shared/InputField\";import{ForgotPasswordSchema}from\"validation/auth.schema\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function ForgotPassword(){var history=useHistory();var toast=useToast();var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(values,_ref){var setErrors,_yield$forgotPassword,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setErrors=_ref.setErrors;_context.prev=1;_context.next=4;return forgotPassword(values.email);case 4:_yield$forgotPassword=_context.sent;data=_yield$forgotPassword.data;if(data){toast({title:\"Reset Password\",description:\"If account with that email is in DataBase, they get the email\",status:\"success\",duration:5000,isClosable:true});history.push(\"/\");}_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](1);setErrors(toErrorMap(_context.t0));case 12:case\"end\":return _context.stop();}}},_callee,null,[[1,9]]);}));return function handleSubmit(_x,_x2){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(Flex,{minHeight:\"100vh\",width:\"full\",align:\"center\",justifyContent:\"center\",children:/*#__PURE__*/_jsxs(Box,{px:4,width:\"full\",maxWidth:\"500px\",textAlign:\"center\",children:[/*#__PURE__*/_jsx(Flex,{mb:\"4\",justify:\"center\",children:/*#__PURE__*/_jsx(Image,{src:\"/logo.png\",w:\"80px\"})}),/*#__PURE__*/_jsxs(Box,{p:4,borderRadius:4,background:\"brandGray.light\",children:[/*#__PURE__*/_jsx(Box,{textAlign:\"center\",children:/*#__PURE__*/_jsx(Heading,{fontSize:\"24px\",children:\"Forgot Password\"})}),/*#__PURE__*/_jsx(Box,{my:4,textAlign:\"left\",children:/*#__PURE__*/_jsx(Formik,{initialValues:{email:\"\"},validationSchema:ForgotPasswordSchema,onSubmit:handleSubmit,children:function children(_ref3){var isSubmitting=_ref3.isSubmitting;return/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsx(InputField,{label:\"Email\",name:\"email\",autoComplete:\"email\",type:\"email\"}),/*#__PURE__*/_jsx(Button,{background:\"highlight.standard\",color:\"white\",width:\"full\",mt:4,type:\"submit\",isLoading:isSubmitting,_hover:{bg:\"highlight.hover\"},_active:{bg:\"highlight.active\"},_focus:{boxShadow:\"none\"},fontSize:\"14px\",children:\"Send Mail\"})]});}})})]})]})});}","map":{"version":3,"sources":["/Users/paulndam/Documents/MERN/React-Course/Crash-Course/build-discord/client/src/pages/ForgotPassword.js"],"names":["Box","Button","Flex","Heading","Image","useToast","forgotPassword","Form","Formik","React","useHistory","toErrorMap","InputField","ForgotPasswordSchema","ForgotPassword","history","toast","handleSubmit","values","setErrors","email","data","title","description","status","duration","isClosable","push","isSubmitting","bg","boxShadow"],"mappings":"qYAAA,OAASA,GAAT,CAAcC,MAAd,CAAsBC,IAAtB,CAA4BC,OAA5B,CAAqCC,KAArC,CAA4CC,QAA5C,KAA4D,kBAA5D,CACA,OAASC,cAAT,KAA+B,kBAA/B,CACA,OAASC,IAAT,CAAeC,MAAf,KAA6B,QAA7B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,MAAOC,CAAAA,UAAP,KAAuB,kBAAvB,CACA,MAAOC,CAAAA,UAAP,KAAuB,8BAAvB,CACA,OAASC,oBAAT,KAAqC,wBAArC,C,wFAEA,cAAe,SAASC,CAAAA,cAAT,EAA0B,CACvC,GAAMC,CAAAA,OAAO,CAAGL,UAAU,EAA1B,CACA,GAAMM,CAAAA,KAAK,CAAGX,QAAQ,EAAtB,CAEA,GAAMY,CAAAA,YAAY,2FAAG,iBAAOC,MAAP,gKAAiBC,SAAjB,MAAiBA,SAAjB,uCAEMb,CAAAA,cAAc,CAACY,MAAM,CAACE,KAAR,CAFpB,4CAETC,IAFS,uBAETA,IAFS,CAGjB,GAAIA,IAAJ,CAAU,CACRL,KAAK,CAAC,CACJM,KAAK,CAAE,gBADH,CAEJC,WAAW,CACT,+DAHE,CAIJC,MAAM,CAAE,SAJJ,CAKJC,QAAQ,CAAE,IALN,CAMJC,UAAU,CAAE,IANR,CAAD,CAAL,CASAX,OAAO,CAACY,IAAR,CAAa,GAAb,EACD,CAdgB,+EAgBjBR,SAAS,CAACR,UAAU,aAAX,CAAT,CAhBiB,oEAAH,kBAAZM,CAAAA,YAAY,iDAAlB,CAoBA,mBACE,KAAC,IAAD,EAAM,SAAS,CAAC,OAAhB,CAAwB,KAAK,CAAC,MAA9B,CAAqC,KAAK,CAAC,QAA3C,CAAoD,cAAc,CAAC,QAAnE,uBACE,MAAC,GAAD,EAAK,EAAE,CAAE,CAAT,CAAY,KAAK,CAAC,MAAlB,CAAyB,QAAQ,CAAC,OAAlC,CAA0C,SAAS,CAAC,QAApD,wBACE,KAAC,IAAD,EAAM,EAAE,CAAC,GAAT,CAAa,OAAO,CAAC,QAArB,uBACE,KAAC,KAAD,EAAO,GAAG,CAAC,WAAX,CAAuB,CAAC,CAAC,MAAzB,EADF,EADF,cAIE,MAAC,GAAD,EAAK,CAAC,CAAE,CAAR,CAAW,YAAY,CAAE,CAAzB,CAA4B,UAAU,CAAC,iBAAvC,wBACE,KAAC,GAAD,EAAK,SAAS,CAAC,QAAf,uBACE,KAAC,OAAD,EAAS,QAAQ,CAAC,MAAlB,6BADF,EADF,cAIE,KAAC,GAAD,EAAK,EAAE,CAAE,CAAT,CAAY,SAAS,CAAC,MAAtB,uBACE,KAAC,MAAD,EACE,aAAa,CAAE,CAAEG,KAAK,CAAE,EAAT,CADjB,CAEE,gBAAgB,CAAEP,oBAFpB,CAGE,QAAQ,CAAEI,YAHZ,UAKG,4BAAGW,CAAAA,YAAH,OAAGA,YAAH,oBACC,MAAC,IAAD,yBACE,KAAC,UAAD,EACE,KAAK,CAAC,OADR,CAEE,IAAI,CAAC,OAFP,CAGE,YAAY,CAAC,OAHf,CAIE,IAAI,CAAC,OAJP,EADF,cAQE,KAAC,MAAD,EACE,UAAU,CAAC,oBADb,CAEE,KAAK,CAAC,OAFR,CAGE,KAAK,CAAC,MAHR,CAIE,EAAE,CAAE,CAJN,CAKE,IAAI,CAAC,QALP,CAME,SAAS,CAAEA,YANb,CAOE,MAAM,CAAE,CAAEC,EAAE,CAAE,iBAAN,CAPV,CAQE,OAAO,CAAE,CAAEA,EAAE,CAAE,kBAAN,CARX,CASE,MAAM,CAAE,CAAEC,SAAS,CAAE,MAAb,CATV,CAUE,QAAQ,CAAE,MAVZ,uBARF,GADD,EALH,EADF,EAJF,GAJF,GADF,EADF,CA+CD","sourcesContent":["import { Box, Button, Flex, Heading, Image, useToast } from \"@chakra-ui/react\";\nimport { forgotPassword } from \"api/handler/auth\";\nimport { Form, Formik } from \"formik\";\nimport React from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport toErrorMap from \"utils/toErrorMap\";\nimport InputField from \"components/shared/InputField\";\nimport { ForgotPasswordSchema } from \"validation/auth.schema\";\n\nexport default function ForgotPassword() {\n  const history = useHistory();\n  const toast = useToast();\n\n  const handleSubmit = async (values, { setErrors }) => {\n    try {\n      const { data } = await forgotPassword(values.email);\n      if (data) {\n        toast({\n          title: \"Reset Password\",\n          description:\n            \"If account with that email is in DataBase, they get the email\",\n          status: \"success\",\n          duration: 5000,\n          isClosable: true,\n        });\n\n        history.push(\"/\");\n      }\n    } catch (error) {\n      setErrors(toErrorMap(error));\n    }\n  };\n\n  return (\n    <Flex minHeight=\"100vh\" width=\"full\" align=\"center\" justifyContent=\"center\">\n      <Box px={4} width=\"full\" maxWidth=\"500px\" textAlign=\"center\">\n        <Flex mb=\"4\" justify=\"center\">\n          <Image src=\"/logo.png\" w=\"80px\" />\n        </Flex>\n        <Box p={4} borderRadius={4} background=\"brandGray.light\">\n          <Box textAlign=\"center\">\n            <Heading fontSize=\"24px\">Forgot Password</Heading>\n          </Box>\n          <Box my={4} textAlign=\"left\">\n            <Formik\n              initialValues={{ email: \"\" }}\n              validationSchema={ForgotPasswordSchema}\n              onSubmit={handleSubmit}\n            >\n              {({ isSubmitting }) => (\n                <Form>\n                  <InputField\n                    label=\"Email\"\n                    name=\"email\"\n                    autoComplete=\"email\"\n                    type=\"email\"\n                  />\n\n                  <Button\n                    background=\"highlight.standard\"\n                    color=\"white\"\n                    width=\"full\"\n                    mt={4}\n                    type=\"submit\"\n                    isLoading={isSubmitting}\n                    _hover={{ bg: \"highlight.hover\" }}\n                    _active={{ bg: \"highlight.active\" }}\n                    _focus={{ boxShadow: \"none\" }}\n                    fontSize={\"14px\"}\n                  >\n                    Send Mail\n                  </Button>\n                </Form>\n              )}\n            </Formik>\n          </Box>\n        </Box>\n      </Box>\n    </Flex>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}