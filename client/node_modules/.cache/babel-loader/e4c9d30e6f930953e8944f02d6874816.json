{"ast":null,"code":"import _regeneratorRuntime from\"/Users/paulndam/Documents/MERN/React-Course/Crash-Course/build-discord/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/paulndam/Documents/MERN/React-Course/Crash-Course/build-discord/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{Button,Modal,ModalBody,ModalCloseButton,ModalContent,ModalFooter,ModalHeader,ModalOverlay,Text,useToast}from\"@chakra-ui/react\";import{Form,Formik}from\"formik\";import{changePassword}from\"api/handler/auth\";import React from\"react\";import toErrorMap from\"utils/toErrorMap\";import{ChangePasswordSchema}from\"validation/auth.schema\";import InputField from\"components/shared/InputField\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function ChangePasswordModal(_ref){var isOpen=_ref.isOpen,onClose=_ref.onClose;var toast=useToast();function handleSubmit(_x,_x2){return _handleSubmit.apply(this,arguments);}function _handleSubmit(){_handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(values,_ref2){var setErrors,_yield$changePassword,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setErrors=_ref2.setErrors;_context.prev=1;_context.next=4;return changePassword(values);case 4:_yield$changePassword=_context.sent;data=_yield$changePassword.data;if(data){toast({title:\"Changed Password\",status:\"success\",duration:5000,isClosable:true});onClose();}_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](1);setErrors(toErrorMap(_context.t0));case 12:case\"end\":return _context.stop();}}},_callee,null,[[1,9]]);}));return _handleSubmit.apply(this,arguments);}return/*#__PURE__*/_jsxs(Modal,{isOpen:isOpen,onClose:onClose,isCentered:true,children:[/*#__PURE__*/_jsx(ModalOverlay,{}),/*#__PURE__*/_jsx(ModalContent,{bg:\"brandGray.light\",children:/*#__PURE__*/_jsx(Formik,{initialValues:{currentPassword:\"\",newPassword:\"\",confirmNewPassword:\"\"},validationSchema:ChangePasswordSchema,onSubmit:handleSubmit,children:function children(_ref3){var isSubmitting=_ref3.isSubmitting;return/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsx(ModalHeader,{textAlign:\"center\",fontWeight:\"bold\",children:\"Change your password\"}),/*#__PURE__*/_jsx(ModalCloseButton,{}),/*#__PURE__*/_jsxs(ModalBody,{pb:6,children:[/*#__PURE__*/_jsx(Text,{children:\"Enter your current password and a new password\"}),/*#__PURE__*/_jsx(InputField,{label:\"current password\",name:\"currentPassword\",autoComplete:\"password\",type:\"password\"}),/*#__PURE__*/_jsx(InputField,{label:\"new password\",name:\"newPassword\",autoComplete:\"password\",type:\"password\"}),/*#__PURE__*/_jsx(InputField,{label:\"confirm new password\",name:\"confirmNewPassword\",autoComplete:\"password\",type:\"password\"})]}),/*#__PURE__*/_jsxs(ModalFooter,{bg:\"brandGray.dark\",children:[/*#__PURE__*/_jsx(Button,{onClick:onClose,fontSize:\"14px\",mr:6,variant:\"link\",children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{background:\"highlight.standard\",color:\"white\",type:\"submit\",_hover:{bg:\"highlight.hover\"},_active:{bg:\"highlight.active\"},_focus:{boxShadow:\"none\"},isLoading:isSubmitting,fontSize:\"14px\",children:\"Done\"})]})]});}})})]});}","map":{"version":3,"sources":["/Users/paulndam/Documents/MERN/React-Course/Crash-Course/build-discord/client/src/components/modals/ChangePasswordModal.js"],"names":["Button","Modal","ModalBody","ModalCloseButton","ModalContent","ModalFooter","ModalHeader","ModalOverlay","Text","useToast","Form","Formik","changePassword","React","toErrorMap","ChangePasswordSchema","InputField","ChangePasswordModal","isOpen","onClose","toast","handleSubmit","values","setErrors","data","title","status","duration","isClosable","currentPassword","newPassword","confirmNewPassword","isSubmitting","bg","boxShadow"],"mappings":"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","sourcesContent":["import {\n  Button,\n  Modal,\n  ModalBody,\n  ModalCloseButton,\n  ModalContent,\n  ModalFooter,\n  ModalHeader,\n  ModalOverlay,\n  Text,\n  useToast,\n} from \"@chakra-ui/react\";\nimport { Form, Formik } from \"formik\";\nimport { changePassword } from \"api/handler/auth\";\nimport React from \"react\";\nimport toErrorMap from \"utils/toErrorMap\";\nimport { ChangePasswordSchema } from \"validation/auth.schema\";\nimport InputField from \"components/shared/InputField\";\n\nexport default function ChangePasswordModal({ isOpen, onClose }) {\n  const toast = useToast();\n\n  async function handleSubmit(values, { setErrors }) {\n    try {\n      const { data } = await changePassword(values);\n      if (data) {\n        toast({\n          title: \"Changed Password\",\n          status: \"success\",\n          duration: 5000,\n          isClosable: true,\n        });\n        onClose();\n      }\n    } catch (err) {\n      setErrors(toErrorMap(err));\n    }\n  }\n\n  return (\n    <Modal isOpen={isOpen} onClose={onClose} isCentered>\n      <ModalOverlay />\n\n      <ModalContent bg=\"brandGray.light\">\n        <Formik\n          initialValues={{\n            currentPassword: \"\",\n            newPassword: \"\",\n            confirmNewPassword: \"\",\n          }}\n          validationSchema={ChangePasswordSchema}\n          onSubmit={handleSubmit}\n        >\n          {({ isSubmitting }) => (\n            <Form>\n              <ModalHeader textAlign=\"center\" fontWeight=\"bold\">\n                Change your password\n              </ModalHeader>\n              <ModalCloseButton />\n              <ModalBody pb={6}>\n                <Text>Enter your current password and a new password</Text>\n                <InputField\n                  label=\"current password\"\n                  name=\"currentPassword\"\n                  autoComplete=\"password\"\n                  type=\"password\"\n                />\n\n                <InputField\n                  label=\"new password\"\n                  name=\"newPassword\"\n                  autoComplete=\"password\"\n                  type=\"password\"\n                />\n\n                <InputField\n                  label=\"confirm new password\"\n                  name=\"confirmNewPassword\"\n                  autoComplete=\"password\"\n                  type=\"password\"\n                />\n              </ModalBody>\n\n              <ModalFooter bg=\"brandGray.dark\">\n                <Button\n                  onClick={onClose}\n                  fontSize={\"14px\"}\n                  mr={6}\n                  variant=\"link\"\n                >\n                  Cancel\n                </Button>\n                <Button\n                  background=\"highlight.standard\"\n                  color=\"white\"\n                  type=\"submit\"\n                  _hover={{ bg: \"highlight.hover\" }}\n                  _active={{ bg: \"highlight.active\" }}\n                  _focus={{ boxShadow: \"none\" }}\n                  isLoading={isSubmitting}\n                  fontSize={\"14px\"}\n                >\n                  Done\n                </Button>\n              </ModalFooter>\n            </Form>\n          )}\n        </Formik>\n      </ModalContent>\n    </Modal>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}