{"ast":null,"code":"var _jsxFileName = \"/Users/paulndam/Documents/MERN/React-Course/Crash-Course/build-discord/client/src/components/items/FriendsListItem.js\",\n    _s = $RefreshSig$();\n\nimport { Avatar, AvatarBadge, Flex, IconButton, ListItem, Text, useDisclosure } from \"@chakra-ui/react\";\nimport React from \"react\";\nimport { FaEllipsisV } from \"react-icons/fa\";\nimport { useQueryClient } from \"react-query\";\nimport { useHistory } from \"react-router-dom\";\nimport { getOrCreateDirectMessage } from \"api/handler/dm\";\nimport { dmKey } from \"utils/querykeys\";\nimport RemoveFriendModal from \"components/modals/RemoveFriendModal\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function FriendsListItem({\n  friend\n}) {\n  _s();\n\n  const {\n    isOpen,\n    onOpen,\n    onClose\n  } = useDisclosure();\n  const cache = useQueryClient();\n  const history = useHistory();\n\n  async function getDMChannel() {\n    const {\n      data\n    } = await getOrCreateDirectMessage(friend.id);\n\n    if (data) {\n      cache.invalidateQueries(dmKey);\n      history.push(`/channels/me/${data.id}`);\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(ListItem, {\n    p: \"3\",\n    mx: \"3\",\n    _hover: {\n      bg: \"brandGray.dark\",\n      borderRadius: \"5px\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(Flex, {\n      align: \"center\",\n      justify: \"space-between\",\n      children: [/*#__PURE__*/_jsxDEV(Flex, {\n        align: \"center\",\n        w: \"full\",\n        onClick: getDMChannel,\n        _hover: {\n          cursor: \"pointer\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(Avatar, {\n          size: \"sm\",\n          src: friend.image,\n          children: /*#__PURE__*/_jsxDEV(AvatarBadge, {\n            boxSize: \"1.25em\",\n            bg: friend.isOnline ? \"green.500\" : \"gray.500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Text, {\n          ml: \"2\",\n          children: friend.username\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n        icon: /*#__PURE__*/_jsxDEV(FaEllipsisV, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 17\n        }, this),\n        borderRadius: \"50%\",\n        \"aria-label\": \"remove friend\",\n        onClick: e => {\n          e.preventDefault();\n          onOpen();\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), isOpen && /*#__PURE__*/_jsxDEV(RemoveFriendModal, {\n      id: friend.id,\n      isOpen: true,\n      onClose: onClose\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 18\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 5\n  }, this);\n}\n\n_s(FriendsListItem, \"q+i9y/mqF5vpf9SeoGR09jF2mho=\", false, function () {\n  return [useDisclosure, useQueryClient, useHistory];\n});\n\n_c = FriendsListItem;\n\nvar _c;\n\n$RefreshReg$(_c, \"FriendsListItem\");","map":{"version":3,"sources":["/Users/paulndam/Documents/MERN/React-Course/Crash-Course/build-discord/client/src/components/items/FriendsListItem.js"],"names":["Avatar","AvatarBadge","Flex","IconButton","ListItem","Text","useDisclosure","React","FaEllipsisV","useQueryClient","useHistory","getOrCreateDirectMessage","dmKey","RemoveFriendModal","FriendsListItem","friend","isOpen","onOpen","onClose","cache","history","getDMChannel","data","id","invalidateQueries","push","bg","borderRadius","cursor","image","isOnline","username","e","preventDefault"],"mappings":";;;AAAA,SACEA,MADF,EAEEC,WAFF,EAGEC,IAHF,EAIEC,UAJF,EAKEC,QALF,EAMEC,IANF,EAOEC,aAPF,QAQO,kBARP;AASA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,QAA4B,gBAA5B;AACA,SAASC,cAAT,QAA+B,aAA/B;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,wBAAT,QAAyC,gBAAzC;AACA,SAASC,KAAT,QAAsB,iBAAtB;AACA,OAAOC,iBAAP,MAA8B,qCAA9B;;AAEA,eAAe,SAASC,eAAT,CAAyB;AAAEC,EAAAA;AAAF,CAAzB,EAAqC;AAAA;;AAClD,QAAM;AAAEC,IAAAA,MAAF;AAAUC,IAAAA,MAAV;AAAkBC,IAAAA;AAAlB,MAA8BZ,aAAa,EAAjD;AACA,QAAMa,KAAK,GAAGV,cAAc,EAA5B;AACA,QAAMW,OAAO,GAAGV,UAAU,EAA1B;;AAEA,iBAAeW,YAAf,GAA8B;AAC5B,UAAM;AAAEC,MAAAA;AAAF,QAAW,MAAMX,wBAAwB,CAACI,MAAM,CAACQ,EAAR,CAA/C;;AAEA,QAAID,IAAJ,EAAU;AACRH,MAAAA,KAAK,CAACK,iBAAN,CAAwBZ,KAAxB;AACAQ,MAAAA,OAAO,CAACK,IAAR,CAAc,gBAAeH,IAAI,CAACC,EAAG,EAArC;AACD;AACF;;AAED,sBACE,QAAC,QAAD;AACE,IAAA,CAAC,EAAC,GADJ;AAEE,IAAA,EAAE,EAAC,GAFL;AAGE,IAAA,MAAM,EAAE;AACNG,MAAAA,EAAE,EAAE,gBADE;AAENC,MAAAA,YAAY,EAAE;AAFR,KAHV;AAAA,4BAQE,QAAC,IAAD;AAAM,MAAA,KAAK,EAAC,QAAZ;AAAqB,MAAA,OAAO,EAAC,eAA7B;AAAA,8BACE,QAAC,IAAD;AACE,QAAA,KAAK,EAAC,QADR;AAEE,QAAA,CAAC,EAAE,MAFL;AAGE,QAAA,OAAO,EAAEN,YAHX;AAIE,QAAA,MAAM,EAAE;AAAEO,UAAAA,MAAM,EAAE;AAAV,SAJV;AAAA,gCAME,QAAC,MAAD;AAAQ,UAAA,IAAI,EAAC,IAAb;AAAkB,UAAA,GAAG,EAAEb,MAAM,CAACc,KAA9B;AAAA,iCACE,QAAC,WAAD;AACE,YAAA,OAAO,EAAC,QADV;AAEE,YAAA,EAAE,EAAEd,MAAM,CAACe,QAAP,GAAkB,WAAlB,GAAgC;AAFtC;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBANF,eAYE,QAAC,IAAD;AAAM,UAAA,EAAE,EAAC,GAAT;AAAA,oBAAcf,MAAM,CAACgB;AAArB;AAAA;AAAA;AAAA;AAAA,gBAZF;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAeE,QAAC,UAAD;AACE,QAAA,IAAI,eAAE,QAAC,WAAD;AAAA;AAAA;AAAA;AAAA,gBADR;AAEE,QAAA,YAAY,EAAC,KAFf;AAGE,sBAAW,eAHb;AAIE,QAAA,OAAO,EAAGC,CAAD,IAAO;AACdA,UAAAA,CAAC,CAACC,cAAF;AACAhB,UAAAA,MAAM;AACP;AAPH;AAAA;AAAA;AAAA;AAAA,cAfF;AAAA;AAAA;AAAA;AAAA;AAAA,YARF,EAiCGD,MAAM,iBAAI,QAAC,iBAAD;AAAmB,MAAA,EAAE,EAAED,MAAM,CAACQ,EAA9B;AAAkC,MAAA,MAAM,MAAxC;AAAyC,MAAA,OAAO,EAAEL;AAAlD;AAAA;AAAA;AAAA;AAAA,YAjCb;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAqCD;;GAnDuBJ,e;UACcR,a,EACtBG,c,EACEC,U;;;KAHMI,e","sourcesContent":["import {\n  Avatar,\n  AvatarBadge,\n  Flex,\n  IconButton,\n  ListItem,\n  Text,\n  useDisclosure,\n} from \"@chakra-ui/react\";\nimport React from \"react\";\nimport { FaEllipsisV } from \"react-icons/fa\";\nimport { useQueryClient } from \"react-query\";\nimport { useHistory } from \"react-router-dom\";\nimport { getOrCreateDirectMessage } from \"api/handler/dm\";\nimport { dmKey } from \"utils/querykeys\";\nimport RemoveFriendModal from \"components/modals/RemoveFriendModal\";\n\nexport default function FriendsListItem({ friend }) {\n  const { isOpen, onOpen, onClose } = useDisclosure();\n  const cache = useQueryClient();\n  const history = useHistory();\n\n  async function getDMChannel() {\n    const { data } = await getOrCreateDirectMessage(friend.id);\n\n    if (data) {\n      cache.invalidateQueries(dmKey);\n      history.push(`/channels/me/${data.id}`);\n    }\n  }\n\n  return (\n    <ListItem\n      p=\"3\"\n      mx=\"3\"\n      _hover={{\n        bg: \"brandGray.dark\",\n        borderRadius: \"5px\",\n      }}\n    >\n      <Flex align=\"center\" justify=\"space-between\">\n        <Flex\n          align=\"center\"\n          w={\"full\"}\n          onClick={getDMChannel}\n          _hover={{ cursor: \"pointer\" }}\n        >\n          <Avatar size=\"sm\" src={friend.image}>\n            <AvatarBadge\n              boxSize=\"1.25em\"\n              bg={friend.isOnline ? \"green.500\" : \"gray.500\"}\n            />\n          </Avatar>\n          <Text ml=\"2\">{friend.username}</Text>\n        </Flex>\n        <IconButton\n          icon={<FaEllipsisV />}\n          borderRadius=\"50%\"\n          aria-label=\"remove friend\"\n          onClick={(e) => {\n            e.preventDefault();\n            onOpen();\n          }}\n        />\n      </Flex>\n      {isOpen && <RemoveFriendModal id={friend.id} isOpen onClose={onClose} />}\n    </ListItem>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}